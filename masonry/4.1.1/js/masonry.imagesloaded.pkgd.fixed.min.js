/*!
 * modified for babel Masonry PACKAGED v4.1.1
 * Cascading grid layout library
 * masonry.desandro.com
 * MIT License
 * by David DeSandro
 * removed jQuery support
 * removed AMD, CommonJS support
 * changed this or global to window as argument
 * added if("undefined"==typeof window||!("document"in window))
 * {return console.log("window is undefined or document is not in window"),!1;}
 * wont't pass jshint
 * closure-compiler.appspot.com/code/jsc791a430ae9a0fab140f8a5be98233036/default.js
 */
;(function(d,l){if("undefined"==typeof d||!("document"in d))return console.log("window is undefined or document is not in window"),!1;d.EvEmitter=l()})(window,function(){function d(){}var l=d.prototype;l.on=function(h,a){if(h&&a){var b=this._events=this._events||{},b=b[h]=b[h]||[];-1==b.indexOf(a)&&b.push(a);return this}};l.once=function(h,a){if(h&&a){this.on(h,a);var b=this._onceEvents=this._onceEvents||{};(b[h]=b[h]||{})[a]=!0;return this}};l.off=function(h,a){var b=this._events&&this._events[h];if(b&&b.length){var c=b.indexOf(a);-1!=c&&b.splice(c,1);return this}};l.emitEvent=function(h,a){var b=this._events&&this._events[h];if(b&&b.length){var c=0,q=b[c];a=a||[];for(var g=this._onceEvents&&this._onceEvents[h];q;){var d=g&&g[q];d&&(this.off(h,q),delete g[q]);q.apply(this,a);c+=d?0:1;q=b[c]}return this}};return d});(function(d,l){d.getSize=l()})(window,function(){function d(b){var a=parseFloat(b);return-1==b.indexOf("%")&&!isNaN(a)&&a}function l(){}function h(a){(a=getComputedStyle(a))||b("Style returned "+a+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1");return a}function a(b){if(!g){g=!0;var k=document.createElement("div");k.style.width="200px";k.style.padding="1px 2px 3px 4px";k.style.borderStyle="solid";k.style.borderWidth="1px 2px 3px 4px";k.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(k);var f=h(k);a.isBoxSizeOuter=p=200==d(f.width);n.removeChild(k)}"string"==typeof b&&(b=document.querySelector(b));if(b&&"object"==typeof b&&b.nodeType){n=h(b);if("none"==n.display){k={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(n=0;n<q;n++)k[c[n]]=0;return k}k={};k.width=b.offsetWidth;k.height=b.offsetHeight;b=k.isBorderBox="border-box"==n.boxSizing;for(f=0;f<q;f++){var r=c[f],e=parseFloat(n[r]);k[r]=isNaN(e)?0:e}var f=k.paddingLeft+k.paddingRight,r=k.paddingTop+k.paddingBottom,e=k.marginLeft+k.marginRight,m=k.marginTop+k.marginBottom,u=k.borderLeftWidth+k.borderRightWidth,l=k.borderTopWidth+k.borderBottomWidth;b=b&&p;var v=d(n.width);!1!==v&&(k.width=v+(b?0:f+u));n=d(n.height);!1!==n&&(k.height=n+(b?0:r+l));k.innerWidth=k.width-(f+u);k.innerHeight=k.height-(r+l);k.outerWidth=k.width+e;k.outerHeight=k.height+m;return k}}var b="undefined"==typeof console?l:function(b){console.error(b)},c="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" "),q=c.length,g=!1,p;return a});(function(d,l){d.matchesSelector=l()})(window,function(){var d=function(){var d=Element.prototype;if(d.matches)return"matches";if(d.matchesSelector)return"matchesSelector";for(var h=["webkit","moz","ms","o"],a=0;a<h.length;a++){var b=h[a]+"MatchesSelector";if(d[b])return b}}();return function(l,h){return l[d](h)}});(function(d,l){d.fizzyUIUtils=l(d,d.matchesSelector)})(window,function(d,l){var h={extend:function(b,a){for(var c in a)b[c]=a[c];return b},modulo:function(b,a){return(b%a+a)%a},makeArray:function(b){var a=[];if(Array.isArray(b))a=b;else if(b&&"number"==typeof b.length)for(var d=0;d<b.length;d++)a.push(b[d]);else a.push(b);return a},removeFrom:function(b,a){var c=b.indexOf(a);-1!=c&&b.splice(c,1)},getParent:function(b,a){for(;b!=document.body;)if(b=b.parentNode,l(b,a))return b},getQueryElement:function(b){return"string"==typeof b?document.querySelector(b):b},handleEvent:function(b){var a="on"+b.type;if(this[a])this[a](b)},filterFindElements:function(a,c){a=h.makeArray(a);var b=[];a.forEach(function(a){if(a instanceof HTMLElement)if(c){l(a,c)&&b.push(a);a=a.querySelectorAll(c);for(var g=0;g<a.length;g++)b.push(a[g])}else b.push(a)});return b},debounceMethod:function(a,c,d){var b=a.prototype[c],h=c+"Timeout";a.prototype[c]=function(){var a=this[h];a&&clearTimeout(a);var c=arguments,n=this;this[h]=setTimeout(function(){b.apply(n,c);delete n[h]},d||100)}},docReady:function(a){var b=document.readyState;"complete"==b||"interactive"==b?a():document.addEventListener("DOMContentLoaded",a)},toDashed:function(a){return a.replace(/(.)([A-Z])/g,function(a,b,g){return b+"-"+g}).toLowerCase()}},a=d.console;h.htmlInit=function(b,c){h.docReady(function(){var l=h.toDashed(c),g="data-"+l,p=document.querySelectorAll("["+g+"]"),l=document.querySelectorAll(".js-"+l),p=h.makeArray(p).concat(h.makeArray(l)),t=g+"-options",k=d.jQuery;p.forEach(function(n){var f=n.getAttribute(g)||n.getAttribute(t),d;try{d=f&&JSON.parse(f)}catch(e){a&&a.error("Error parsing "+g+" on "+n.className+": "+e);return}f=new b(n,d);k&&k.data(n,c,f)})})};return h});(function(d,l){d.Outlayer={};d.Outlayer.Item=l(d.EvEmitter,d.getSize)})(window,function(d,l){function h(a,f){a&&(this.element=a,this.layout=f,this.position={x:0,y:0},this._create())}var a=document.documentElement.style,b="string"==typeof a.transition?"transition":"WebkitTransition",a="string"==typeof a.transform?"transform":"WebkitTransform",c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[b],q={transform:a,transition:b,transitionDuration:b+"Duration",transitionProperty:b+"Property",transitionDelay:b+"Delay"},g=h.prototype=Object.create(d.prototype);g.constructor=h;g._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};g.handleEvent=function(a){var f="on"+a.type;if(this[f])this[f](a)};g.getSize=function(){this.size=l(this.element)};g.css=function(a){var f=this.element.style,b;for(b in a)f[q[b]||b]=a[b]};g.getPosition=function(){var a=getComputedStyle(this.element),b=this.layout._getOption("originLeft"),c=this.layout._getOption("originTop"),e=a[b?"left":"right"],m=a[c?"top":"bottom"],a=this.layout.size,e=-1!=e.indexOf("%")?parseFloat(e)/100*a.width:parseInt(e,10),m=-1!=m.indexOf("%")?parseFloat(m)/100*a.height:parseInt(m,10),e=isNaN(e)?0:e,m=isNaN(m)?0:m,e=e-(b?a.paddingLeft:a.paddingRight),m=m-(c?a.paddingTop:a.paddingBottom);this.position.x=e;this.position.y=m};g.layoutPosition=function(){var a=this.layout.size,b={},c=this.layout._getOption("originLeft"),e=this.layout._getOption("originTop"),m=c?"right":"left";b[c?"left":"right"]=this.getXValue(this.position.x+a[c?"paddingLeft":"paddingRight"]);b[m]="";c=e?"bottom":"top";b[e?"top":"bottom"]=this.getYValue(this.position.y+a[e?"paddingTop":"paddingBottom"]);b[c]="";this.css(b);this.emitEvent("layout",[this])};g.getXValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!b?a/this.layout.size.width*100+"%":a+"px"};g.getYValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&b?a/this.layout.size.height*100+"%":a+"px"};g._transitionTo=function(a,b){this.getPosition();var f=this.position.x,e=this.position.y,m=parseInt(a,10),n=parseInt(b,10),m=m===this.position.x&&n===this.position.y;this.setPosition(a,b);m&&!this.isTransitioning?this.layoutPosition():(m={},m.transform=this.getTranslate(a-f,b-e),this.transition({to:m,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))};g.getTranslate=function(a,b){var f=this.layout._getOption("originLeft"),e=this.layout._getOption("originTop");return"translate3d("+(f?a:-a)+"px, "+(e?b:-b)+"px, 0)"};g.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};g.moveTo=g._transitionTo;g.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};g._nonTransition=function(a){this.css(a.to);a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};g.transition=function(a){if(parseFloat(this.layout.options.transitionDuration)){var b=this._transn,c;for(c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0}else this._nonTransition(a)};var p="opacity,"+function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}(a);g.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;this.css({transitionProperty:p,transitionDuration:"number"==typeof a?a+"ms":a,transitionDelay:this.staggerDelay||0});this.element.addEventListener(c,this,!1)}};g.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};g.onotransitionend=function(a){this.ontransitionend(a)};var t={"-webkit-transform":"transform"};g.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=t[a.propertyName]||a.propertyName;delete b.ingProperties[c];var e;a:{e=b.ingProperties;for(var m in e){e=!1;break a}e=!0}e&&this.disableTransition();c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]);c in b.onEnd&&(b.onEnd[c].call(this),delete b.onEnd[c]);this.emitEvent("transitionEnd",[this])}};g.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(c,this,!1);this.isTransitioning=!1};g._removeStyles=function(a){var b={},c;for(c in a)b[c]="";this.css(b)};var k={transitionProperty:"",transitionDuration:"",transitionDelay:""};g.removeTransitionStyles=function(){this.css(k)};g.stagger=function(a){a=isNaN(a)?0:a;this.staggerDelay=a+"ms"};g.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};g.remove=function(){b&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()};g.reveal=function(){delete this.isHidden;this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})};g.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")};g.getHideRevealTransitionEndProperty=function(a){a=this.layout.options[a];if(a.opacity)return"opacity";for(var b in a)return b};g.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})};g.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))};g.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return h});(function(d,l){d.Outlayer=l(d,d.EvEmitter,d.getSize,d.fizzyUIUtils,d.Outlayer.Item)})(window,function(d,l,h,a,b){function c(e,b){var m=a.getQueryElement(e);m?(this.element=m,p&&(this.$element=p(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(b),m=++k,this.element.outlayerGUID=m,n[m]=this,this._create(),this._getOption("initLayout")&&this.layout()):g&&g.error("Bad element for "+this.constructor.namespace+": "+(m||e))}function q(a){function e(){a.apply(this,arguments)}e.prototype=Object.create(a.prototype);return e.prototype.constructor=e}var g=d.console,p=d.jQuery,t=function(){},k=0,n={};c.namespace="outlayer";c.Item=b;c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=c.prototype;a.extend(f,l.prototype);f.option=function(e){a.extend(this.options,e)};f._getOption=function(a){var e=this.constructor.compatOptions[a];return e&&void 0!==this.options[e]?this.options[e]:this.options[a]};c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"};f._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);a.extend(this.element.style,this.options.containerStyle);this._getOption("resize")&&this.bindResize()};f.reloadItems=function(){this.items=this._itemize(this.element.children)};f._itemize=function(a){a=this._filterFindItemElements(a);for(var e=this.constructor.Item,b=[],c=0;c<a.length;c++){var f=new e(a[c],this);b.push(f)}return b};f._filterFindItemElements=function(e){return a.filterFindElements(e,this.options.itemSelector)};f.getItemElements=function(){return this.items.map(function(a){return a.element})};f.layout=function(){this._resetLayout();this._manageStamps();var a=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==a?a:!this._isLayoutInited);this._isLayoutInited=!0};f._init=f.layout;f._resetLayout=function(){this.getSize()};f.getSize=function(){this.size=h(this.element)};f._getMeasurement=function(a,b){var e=this.options[a],m;e?("string"==typeof e?m=this.element.querySelector(e):e instanceof HTMLElement&&(m=e),this[a]=m?h(m)[b]:e):this[a]=0};f.layoutItems=function(a,b){a=this._getItemsForLayout(a);this._layoutItems(a,b);this._postLayout()};f._getItemsForLayout=function(a){return a.filter(function(a){return!a.isIgnored})};f._layoutItems=function(a,b){this._emitCompleteOnItems("layout",a);if(a&&a.length){var e=[];a.forEach(function(a){var m=this._getItemLayoutPosition(a);m.item=a;m.isInstant=b||a.isLayoutInstant;e.push(m)},this);this._processLayoutQueue(e)}};f._getItemLayoutPosition=function(){return{x:0,y:0}};f._processLayoutQueue=function(a){this.updateStagger();a.forEach(function(a,e){this._positionItem(a.item,a.x,a.y,a.isInstant,e)},this)};f.updateStagger=function(){var a=this.options.stagger;if(null===a||void 0===a)this.stagger=0;else{if("number"!=typeof a){var b=a.match(/(^\d*\.?\d*)(\w*)/),a=b&&b[1],b=b&&b[2];a.length?(a=parseFloat(a),a*=r[b]||1):a=0}return this.stagger=a}};f._positionItem=function(a,b,c,f,d){f?a.goTo(b,c):(a.stagger(d*this.stagger),a.moveTo(b,c))};f._postLayout=function(){this.resizeContainer()};f.resizeContainer=function(){if(this._getOption("resizeContainer")){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}};f._getContainerSize=t;f._setContainerMeasure=function(a,b){if(void 0!==a){var e=this.size;e.isBorderBox&&(a+=b?e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth:e.paddingBottom+e.paddingTop+e.borderTopWidth+e.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}};f._emitCompleteOnItems=function(a,b){function e(){m.dispatchEvent(a+"Complete",null,[b])}function c(){d++;d==f&&e()}var m=this,f=b.length;if(b&&f){var d=0;b.forEach(function(b){b.once(a,c)})}else e()};f.dispatchEvent=function(a,b,c){var e=b?[b].concat(c):c;this.emitEvent(a,e);p&&(this.$element=this.$element||p(this.element),b?(b=p.Event(b),b.type=a,this.$element.trigger(b,c)):this.$element.trigger(a,c))};f.ignore=function(a){if(a=this.getItem(a))a.isIgnored=!0};f.unignore=function(a){(a=this.getItem(a))&&delete a.isIgnored};f.stamp=function(a){if(a=this._find(a))this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this)};f.unstamp=function(b){(b=this._find(b))&&b.forEach(function(b){a.removeFrom(this.stamps,b);this.unignore(b)},this)};f._find=function(b){if(b)return"string"==typeof b&&(b=this.element.querySelectorAll(b)),b=a.makeArray(b)};f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))};f._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}};f._manageStamp=t;f._getElementOffset=function(a){var b=a.getBoundingClientRect(),e=this._boundingRect;a=h(a);return{left:b.left-e.left-a.marginLeft,top:b.top-e.top-a.marginTop,right:e.right-b.right-a.marginRight,bottom:e.bottom-b.bottom-a.marginBottom}};f.handleEvent=a.handleEvent;f.bindResize=function(){d.addEventListener("resize",this);this.isResizeBound=!0};f.unbindResize=function(){d.removeEventListener("resize",this);this.isResizeBound=!1};f.onresize=function(){this.resize()};a.debounceMethod(c,"onresize",100);f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()};f.needsResizeLayout=function(){var a=h(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth};f.addItems=function(a){a=this._itemize(a);a.length&&(this.items=this.items.concat(a));return a};f.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))};f.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}};f.reveal=function(a){this._emitCompleteOnItems("reveal",a);if(a&&a.length){var b=this.updateStagger();a.forEach(function(a,e){a.stagger(e*b);a.reveal()})}};f.hide=function(a){this._emitCompleteOnItems("hide",a);if(a&&a.length){var b=this.updateStagger();a.forEach(function(a,e){a.stagger(e*b);a.hide()})}};f.revealItemElements=function(a){a=this.getItems(a);this.reveal(a)};f.hideItemElements=function(a){a=this.getItems(a);this.hide(a)};f.getItem=function(a){for(var b=0;b<this.items.length;b++){var c=this.items[b];if(c.element==a)return c}};f.getItems=function(b){b=a.makeArray(b);var c=[];b.forEach(function(a){(a=this.getItem(a))&&c.push(a)},this);return c};f.remove=function(b){b=this.getItems(b);this._emitCompleteOnItems("remove",b);b&&b.length&&b.forEach(function(b){b.remove();a.removeFrom(this.items,b)},this)};f.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";this.items.forEach(function(a){a.destroy()});this.unbindResize();delete n[this.element.outlayerGUID];delete this.element.outlayerGUID;p&&p.removeData(this.element,this.constructor.namespace)};c.data=function(b){return(b=(b=a.getQueryElement(b))&&b.outlayerGUID)&&n[b]};c.create=function(e,f){var d=q(c);d.defaults=a.extend({},c.defaults);a.extend(d.defaults,f);d.compatOptions=a.extend({},c.compatOptions);d.namespace=e;d.data=c.data;d.Item=q(b);a.htmlInit(d,e);p&&p.bridget&&p.bridget(e,d);return d};var r={ms:1,s:1E3};c.Item=b;return c});(function(d,l){d.Masonry=l(d.Outlayer,d.getSize)})(window,function(d,l){var h=d.create("masonry");h.compatOptions.fitWidth="isFitWidth";h.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0};h.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&l(a).outerWidth||this.containerWidth}var a=this.columnWidth+=this.gutter,b=this.containerWidth+this.gutter,c=a-b%a,a=Math[c&&1>c?"round":"floor"](b/a);this.cols=Math.max(a,1)};h.prototype.getContainerWidth=function(){var a=this._getOption("fitWidth")?this.element.parentNode:this.element;this.containerWidth=(a=l(a))&&a.innerWidth};h.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,b=Math[b&&1>b?"round":"ceil"](a.size.outerWidth/this.columnWidth),b=Math.min(b,this.cols),c=this._getColGroup(b),d=Math.min.apply(Math,c),b=c.indexOf(d),g={x:this.columnWidth*b,y:d};a=d+a.size.outerHeight;c=this.cols+1-c.length;for(d=0;d<c;d++)this.colYs[b+d]=a;return g};h.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;d<c;d++){var g=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,g)}return b};h.prototype._manageStamp=function(a){var b=l(a),c=this._getElementOffset(a);a=this._getOption("originLeft")?c.left:c.right;var d=a+b.outerWidth,g=Math.floor(a/this.columnWidth),g=Math.max(0,g);a=Math.floor(d/this.columnWidth);a-=d%this.columnWidth?0:1;a=Math.min(this.cols-1,a);b=(this._getOption("originTop")?c.top:c.bottom)+b.outerHeight;for(c=g;c<=a;c++)this.colYs[c]=Math.max(b,this.colYs[c])};h.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth());return a};h.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter};h.prototype.needsResizeLayout=function(){var a=this.containerWidth;this.getContainerWidth();return a!=this.containerWidth};return h});
/*!
 * imagesLoaded PACKAGED v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 * removed AMD, CommonJS support
 * changed this or global to window as argument
 * added if("undefined"==typeof window||!("document"in window))
 * {return console.log("window is undefined or document is not in window"),!1;}
 * wont't pass jshint
 * closure-compiler.appspot.com/code/jsc791a430ae9a0fab140f8a5be98233036/default.js
 */
;(function(f,h){if("undefined"==typeof window||!("document"in window))return console.log("window is undefined or document is not in window"),!1;window.EvEmitter=h()})(window,function(){function f(){}var h=f.prototype;h.on=function(d,g){if(d&&g){var a=this._events=this._events||{},a=a[d]=a[d]||[];-1==a.indexOf(g)&&a.push(g);return this}};h.once=function(d,g){if(d&&g){this.on(d,g);var a=this._onceEvents=this._onceEvents||{};(a[d]=a[d]||{})[g]=!0;return this}};h.off=function(d,g){var a=this._events&&this._events[d];if(a&&a.length){var e=a.indexOf(g);-1!=e&&a.splice(e,1);return this}};h.emitEvent=function(d,g){var a=this._events&&this._events[d];if(a&&a.length){var e=0,k=a[e];g=g||[];for(var f=this._onceEvents&&this._onceEvents[d];k;){var h=f&&f[k];h&&(this.off(d,k),delete f[k]);k.apply(this,g);e+=h?0:1;k=a[e]}return this}};return f});(function(f,h){f.imagesLoaded=h(f,f.EvEmitter)})(window,function(f,h){function d(b,c){for(var a in c)b[a]=c[a];return b}function g(b){var c=[];if(Array.isArray(b))c=b;else if("number"==typeof b.length)for(var a=0;a<b.length;a++)c.push(b[a]);else c.push(b);return c}function a(b,c,l){if(!(this instanceof a))return new a(b,c,l);"string"==typeof b&&(b=document.querySelectorAll(b));this.elements=g(b);this.options=d({},this.options);"function"==typeof c?l=c:d(this.options,c);if(l)this.on("always",l);this.getImages();m&&(this.jqDeferred=new m.Deferred);setTimeout(function(){this.check()}.bind(this))}function e(b){this.img=b}function k(b,c){this.url=b;this.element=c;this.img=new Image}var m=f.jQuery,n=f.console;a.prototype=Object.create(h.prototype);a.prototype.options={};a.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this)};a.prototype.addElementImages=function(b){"IMG"==b.nodeName&&this.addImage(b);!0===this.options.background&&this.addElementBackgroundImages(b);var c=b.nodeType;if(c&&p[c]){for(var a=b.querySelectorAll("img"),c=0;c<a.length;c++)this.addImage(a[c]);if("string"==typeof this.options.background)for(b=b.querySelectorAll(this.options.background),c=0;c<b.length;c++)this.addElementBackgroundImages(b[c])}};var p={1:!0,9:!0,11:!0};a.prototype.addElementBackgroundImages=function(b){var a=getComputedStyle(b);if(a)for(var l=/url\((['"])?(.*?)\1\)/gi,d=l.exec(a.backgroundImage);null!==d;)(d=d&&d[2])&&this.addBackground(d,b),d=l.exec(a.backgroundImage)};a.prototype.addImage=function(b){b=new e(b);this.images.push(b)};a.prototype.addBackground=function(b,a){var c=new k(b,a);this.images.push(c)};a.prototype.check=function(){function b(b,c,d){setTimeout(function(){a.progress(b,c,d)})}var a=this;this.progressedCount=0;this.hasAnyBroken=!1;this.images.length?this.images.forEach(function(a){a.once("progress",b);a.check()}):this.complete()};a.prototype.progress=function(b,a,d){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!b.isLoaded;this.emitEvent("progress",[this,b,a]);this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,b);this.progressedCount==this.images.length&&this.complete();this.options.debug&&n&&n.log("progress: "+d,b,a)};a.prototype.complete=function(){var b=this.hasAnyBroken?"fail":"done";this.isComplete=!0;this.emitEvent(b,[this]);this.emitEvent("always",[this]);if(this.jqDeferred)this.jqDeferred[this.hasAnyBroken?"reject":"resolve"](this)};e.prototype=Object.create(h.prototype);e.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)};e.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth};e.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.img,a])};e.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};e.prototype.onload=function(){this.confirm(!0,"onload");this.unbindEvents()};e.prototype.onerror=function(){this.confirm(!1,"onerror");this.unbindEvents()};e.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this);this.proxyImage.removeEventListener("error",this);this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};k.prototype=Object.create(e.prototype);k.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())};k.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};k.prototype.confirm=function(a,c){this.isLoaded=a;this.emitEvent("progress",[this,this.element,c])};a.makeJQueryPlugin=function(b){if(b=b||f.jQuery)m=b,m.fn.imagesLoaded=function(b,d){return(new a(this,b,d)).jqDeferred.promise(m(this))}};a.makeJQueryPlugin();return a});
