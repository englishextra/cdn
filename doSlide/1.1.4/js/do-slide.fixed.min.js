/*!
 * modified for babel DoSlide v1.1.4
 * (c) 2016 MopTym <moptym@163.com>
 * assigned as window property
 * Released under the MIT License.
 * Homepage - https://github.com/MopTym/doSlide
 * wont't pass jshint
 * closure-compiler.appspot.com/code/jsc791a430ae9a0fab140f8a5be98233036/default.js
 */
;(function(h,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports.DoSlide=e():window.DoSlide=e()})(this,function(){return function(h){function e(l){if(g[l])return g[l].exports;var n=g[l]={exports:{},id:l,loaded:!1};h[l].call(n.exports,n,n.exports,e);n.loaded=!0;return n.exports}var g={};e.m=h;e.c=g;e.p="";return e(0)}([function(h,e,g){var l=Object.assign||function(a){for(var d=1;d<arguments.length;d++){var b=arguments[d],f;for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f])}return a},n=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(d,b,f){b&&a(d.prototype,b);f&&a(d,f);return d}}(),q=g(1),k=(e=g(2))&&e.__esModule?e:{"default":e},c=g(3);g(5);var b=g(4);g=(g=g(6))&&g.__esModule?g:{"default":g};var p=function(){function a(){var d=0>=arguments.length||void 0===arguments[0]?document.createElement("div"):arguments[0],b=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");Object.defineProperty(this,"_data",q.DATA_DESCRIPTOR);this.$=k["default"];this.callbacks={onChanged:[],onBeforeChange:[],onOverRange:[],onUserMouseWheel:[],onUserSwipe:[]};this.userEvent=null;this.isChanging=!1;this.el=d.nodeType?d:document.querySelector(d);this.eventEl=null;this.sections=this.el.children;this.currentIndex=b.initIndex||0;this.currentSection=this.sections[this.currentIndex];this.config=l({},q.DEFAULT_CONFIG,q.DEFAULT_INIT_CONFIG);this.set(b);(0,c.init)(this)}n(a,[{key:"set",value:function(a,b){var d=this.config;"string"===typeof a?d[a]=b:l(d,a);return this}},{key:"get",value:function(a){return this.config[a]}},{key:"next",value:function(){this.go(this.config.infinite?(this.currentIndex+1)%this.el.children.length:this.currentIndex+1);return this}},{key:"prev",value:function(){this.go(this.config.infinite?(this.currentIndex||this.el.children.length)-1:this.currentIndex-1);return this}},{key:"go",value:function(a){(0,b.change)(this,+a||0);return this}},{key:"do",value:function(a){a.call(this,this.currentIndex,this.currentSection);return this}},{key:"onChanged",value:function(a){this.callbacks.onChanged.push(a);return this}},{key:"onBeforeChange",value:function(a){this.callbacks.onBeforeChange.push(a);return this}},{key:"onOverRange",value:function(a){this.callbacks.onOverRange.push(a);return this}},{key:"onUserMouseWheel",value:function(a){this.callbacks.onUserMouseWheel.push(a);return this}},{key:"onUserSwipe",value:function(a){this.callbacks.onUserSwipe.push(a);return this}},{key:"initSpaceByKey",value:function(a){Object.defineProperty(this._data,a,{enumerable:!1,configurable:!0,writable:!1,value:{}});return this._data[a]}},{key:"getSpaceByKey",value:function(a){return this._data[a]}}]);return a}();p.from=function(a,d,b){return new p(d,l({},a.config,b))};p.applyNewKey=function(){return"key"+Date.now()+~~(1E4*Math.random())};p.use=function(a,d){a&&a.install&&a.install(p,d)};p.use(g["default"]);p.$=k["default"];p.supportedTransition=k["default"].getSupportedCSS("transition");p.supportedTransform=k["default"].getSupportedCSS("transform");h.exports=p},function(h,e){Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_INIT_CONFIG={initIndex:0,initClass:"ds-init",activeClass:"active",transitionInClass:"transition-in",transitionOutClass:"transition-out",silent:!1,horizontal:!1,infinite:!1,listenUserMouseWheel:!0,listenUserSwipe:!0,eventElemSelector:null};e.DEFAULT_CONFIG={duration:1E3,timingFunction:"ease",minInterval:50,translate3d:!0,parent:null,respondToUserEvent:!0,stopPropagation:!1};e.DATA_DESCRIPTOR={enumerable:!1,configurable:!1,writable:!1,value:{}}},function(h,e){function g(b){return b.length?Array.prototype.reduce.call(b,function(a,d){return a+d})/b.length:0}function l(c,a,d,r){return n(r)||"object"===("undefined"===typeof d?"undefined":k(d))?(b.each(c,function(f){return a(f,d,r)}),c):c.length?a(c[0],d):void 0}function n(b){return"undefined"!==typeof b}function q(b,a,d,c){if(b&&a)for(var f=0,m=b.length,r;f<m;f++)if(r=d?a.call(d,b[f],f,b):a(b[f],f,b),!1===r)return c}var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol?"symbol":typeof b},c=Object.assign||function(b){for(var a=1;a<arguments.length;a++){var d=arguments[a],c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(b[c]=d[c])}return b};Object.defineProperty(e,"__esModule",{value:!0});var b=function a(b){return new a.prototype.Init(b)};b.prototype={constructor:b,length:0,Init:function(a){var d=this;if(!a)return this;if(a instanceof b)return a;a.nodeType?(this[0]=a,this.length=1):("string"===typeof a&&(a=document.querySelectorAll(a)||[]),b.each(a,function(a,b){return d[b]=a}),this.length=a.length);return this}};b.prototype.Init.prototype=b.prototype;c(b.prototype,{each:function(a,d,c,f){return b.each(this,a,d,c,f)},eq:function(a){return isNaN(a)?b():b(this[0>a?this.length+a:a])},on:function(a,d){var c=2>=arguments.length||void 0===arguments[2]?!1:arguments[2];return this.each(function(f){return b.on(f,a,d,c)})},off:function(a,d){var c=2>=arguments.length||void 0===arguments[2]?!1:arguments[2];return this.each(function(f){return b.off(f,a,d,c)})},attr:function(a,d){return l(this,b.attr,a)},css:function(a,d){return l(this,b.css,a,d)},removeAttr:function(a){return this.each(function(d){return b.removeAttr(d,a)})},addClass:function(a){return this.each(function(d){return b.addClass(d,a)})},removeClass:function(a){return this.each(function(d){return b.removeClass(d,a)})},hasClass:function(a){return!this.each(function(d){return!b.hasClass(d,a)},!1,!0,!1)},onMouseWheel:function(a,d){return this.each(function(c){return b.onMouseWheel(c,a,d)})},onSwipe:function(a,d){return this.each(function(c){return b.onSwipe(c,a,d)})}});c(b,{each:function(a,b,c,f,m){if("object"===("undefined"===typeof a?"undefined":k(a))&&n(a.length))for(var d=0,e=a.length,r;d<e;d++)if(r=c?b.call(a[d],a[d],d,a):b(a[d],d,a),!1===r&&f)return m;return a},on:function(a,b,c){var d=3>=arguments.length||void 0===arguments[3]?!1:arguments[3];a&&a.addEventListener(b,c,d)},off:function(a,b,c){var d=3>=arguments.length||void 0===arguments[3]?!1:arguments[3];a&&a.removeEventListener(b,c,d)},attr:function(a,b,c){if(a)if("string"===typeof b)if(n(c))a.setAttribute(b,c);else return a.getAttribute(b)||"";else for(var d in b)a.setAttribute(d,b[d])},css:function(a,b,c){if(a&&b)if("string"===typeof b)if(n(c))a.style[b]=c;else return a.style[b];else for(var d in b)a.style[d]=b[d]},removeAttr:function(a,b){a&&a.removeAttribute(b)},addClass:function(a,b){if(a&&b&&!this.hasClass(a,b)){var c=(this.attr(a,"class").trim()+" "+b).trim();this.attr(a,"class",c)}},removeClass:function(a,b){if(a&&b){var c=new RegExp("\\s*\\b"+b+"\\b\\s*","g"),c=this.attr(a,"class").replace(c," ").trim();this.attr(a,"class",c)}},hasClass:function(a,b){return!(!a||!b)&&(new RegExp("\\b"+b+"\\b")).test(this.attr(a,"class"))}});c(b,{getSupportedCSS:function(){var a=["","-webkit-","-moz-","-o-","-ms-"],b=document.createElement("div").style;return function(c){var d=1>=arguments.length||void 0===arguments[1]||arguments[1]?a.map(function(a){return a+c}):[c],m=void 0;q(d,function(a){m=void 0!==b[a]?a:m;return void 0===m});return m}}(),onMouseWheel:function(a,b){var c=2>=arguments.length||void 0===arguments[2]?function(){return!1}:arguments[2];if(a&&b){var d=0,m=[];["DOMMouseScroll","mousewheel"].map(function(f){a.addEventListener(f,function(f){f.preventDefault();c()&&f.stopPropagation();if(f=f.detail?-f.detail:f.wheelDelta){200<Date.now()-d&&(m=[]);d=Date.now();m.push(Math.abs(f));150<m.length&&m.shift();var e=~~g(m.slice(-10)),k=~~g(m.slice(-70));e>=k&&b.call(a,0>f?"down":"up")}},!1)})}},onSwipe:function(a,b){var c=2>=arguments.length||void 0===arguments[2]?function(){return!1}:arguments[2];if(a&&b){var f=void 0,d=void 0,e=void 0,k=void 0,g=void 0;a.addEventListener("touchstart",function(a){c()&&a.stopPropagation();a=a.changedTouches[0];f=a.clientX;d=a.clientY;k=a.clientX;g=a.clientY;e=Date.now()},!1);a.addEventListener("touchmove",function(a){c()&&a.stopPropagation();a.preventDefault();a.scale&&1!==a.scale||1!==a.changedTouches.length||(a=a.changedTouches[0],k=a.clientX,g=a.clientY)},!1);a.addEventListener("touchend",function(m){c()&&m.stopPropagation();if(800>Date.now()-e){m=k-f;var h=g-d,t=Math.abs(m),l=Math.abs(h);50<Math.max(t,l)&&b.call(a,t>l?0<m?"right":"left":0<h?"down":"up")}},!1)}},forEach:q,keys:function(a,b){var c=[],f;for(f in a)c.push(b?b(f):f);return c}});e["default"]=b},function(h,e,g){Object.defineProperty(e,"__esModule",{value:!0});e.init=void 0;var l=(h=g(2))&&h.__esModule?h:{"default":h},n=g(4),q=g(5);e.init=function(e){e.config.silent||(0,n.initSections)(e,e.config.initIndex||0);!1!==e.config.eventElemSelector&&(0,q.startListen)(e);l["default"].removeClass(e.el,e.config.initClass)}},function(h,e,g){function l(b,d,e){var f=b.currentSection,m=b.sections[d],g=b.config,k=g.minInterval+(a?g.duration:0),k=e?0:k;b.isChanging=!0;b.config.silent||(q(b,d),e||n(g,f,m,!0),c(b,d,e));setTimeout(function(){g.silent||e||n(g,f,m,!1);b.isChanging=!1},k);return k}function n(a,c,d,e){e?(b["default"].addClass(c,a.transitionOutClass),b["default"].addClass(d,a.transitionInClass)):(b["default"].removeClass(c,a.transitionOutClass),b["default"].removeClass(d,a.transitionInClass))}function q(a,c){(0,b["default"])(a.sections).each(function(d,f){f===c?b["default"].addClass(d,a.config.activeClass):b["default"].removeClass(d,a.config.activeClass)})}function k(a,b){var c=a.config.parent;(0,p.executeEventCallbacks)(a,{name:"onOverRange",args:[a.currentIndex,b,a.currentSection]})&&c&&(0>b?c.prev():c.next())}function c(c,e,g){var f=c.config;if(d){if(a){var m=d+" "+(f.timingFunction||"")+" "+f.duration+"ms",k=d+" 0ms";b["default"].css(c.el,a,g?k:m)}e=100*-e/c.sections.length+"%";e=f.horizontal?e+",0":"0,"+e;e=r&&f.translate3d?"translate3d("+e+",0)":"translate("+e+")";b["default"].css(c.el,d,e)}else b["default"].css(c.el,f.horizontal?"left":"top",-e+"00%")}Object.defineProperty(e,"__esModule",{value:!0});e.change=e.initSections=void 0;var b=(h=g(2))&&h.__esModule?h:{"default":h},p=g(5),a=b["default"].getSupportedCSS("transition"),d=b["default"].getSupportedCSS("transform"),r=function(){var a=!1;if(d&&window.getComputedStyle){var b=document.createElement("div");document.body.insertBefore(b,null);b.style[d]="translate3d(1%, 1%, 0)";a=window.getComputedStyle(b).getPropertyValue(d);document.body.removeChild(b)}return a&&"none"!==a}();e.initSections=function(a,c){var d=(0,b["default"])(a.el),e=(0,b["default"])(a.sections);a.config.horizontal?(d.css("width",e.length+"00%"),e.css({width:100/e.length+"%","float":"left"})):(d.css("height",e.length+"00%"),e.css("height",100/e.length+"%"));l(a,c,!0)};e.change=function(a,b){a.isChanging||b==a.currentIndex||(0>b||b>=a.sections.length?k(a,b):(0,p.executeUserEventCallbacks)(a)&&function(){var c=a.currentIndex;if((0,p.executeEventCallbacks)(a,{name:"onBeforeChange",args:[c,b,a.currentSection,a.sections[b]]})){var d=l(a,b);a.currentIndex=b;a.currentSection=a.sections[b];setTimeout(function(){(0,p.executeEventCallbacks)(a,{name:"onChanged",args:[b,c,a.currentSection,a.sections[c]]})},d)}}())}},function(h,e,g){function l(c,b,e,a){return k["default"].forEach(c,function(a){return a.apply(e,b)},null,a)}function n(c,b){k["default"].onMouseWheel(b,function(b){c.config.respondToUserEvent&&!c.isChanging&&(c.userEvent={name:"onUserMouseWheel",args:[b]},"down"===b?c.next():c.prev())},function(){return c.config.stopPropagation})}function q(c,b){k["default"].onSwipe(b,function(b){c.config.respondToUserEvent&&!c.isChanging&&(c.userEvent={name:"onUserSwipe",args:[b]},c.config.horizontal?("left"===b&&c.next(),"right"===b&&c.prev()):("up"===b&&c.next(),"down"===b&&c.prev()))},function(){return c.config.stopPropagation})}Object.defineProperty(e,"__esModule",{value:!0});e.executeUserEventCallbacks=e.executeEventCallbacks=e.startListen=void 0;var k=(h=g(2))&&h.__esModule?h:{"default":h};e.startListen=function(c){var b=c.config.eventElemSelector;c.eventEl=null===b?c.el:b.nodeType?b:document.querySelector(b);c.config.listenUserMouseWheel&&n(c,c.eventEl);c.config.listenUserSwipe&&q(c,c.eventEl)};e.executeEventCallbacks=function(c,b){return!1!==l(c.callbacks[b.name],b.args,c,!1)};e.executeUserEventCallbacks=function(c){var b=c.userEvent;return b?(c.userEvent=null,!1!==l(c.callbacks[b.name],b.args,c,!1)):!0}},function(h,e){function g(e){return function(c){return c.keyCode===e}}function l(e){var c=this["for"];(this.mappings||[]).forEach(function(b){!0===b.filter.call(c,e)&&b.action.call(c,e)})}var n=function(){function e(c,b){for(var e=0;e<b.length;e++){var a=b[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(c,a.key,a)}}return function(c,b,g){b&&e(c.prototype,b);g&&e(c,g);return c}}();Object.defineProperty(e,"__esModule",{value:!0});var q=function(){function e(c,b){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.eventType="keydown";this.eventElement=window;this["for"]=c;this.$=c.$;this.isOn=!1;this.listener=l.bind(this);this.mappings=[{filter:g(40),action:function(){this.config.horizontal||this.next()}},{filter:g(38),action:function(){this.config.horizontal||this.prev()}},{filter:g(39),action:function(){this.config.horizontal&&this.next()}},{filter:g(37),action:function(){this.config.horizontal&&this.prev()}}]}n(e,[{key:"setEventType",value:function(c){if(c!==this.eventType){var b=this.isOn;b&&this.turnOff();this.eventType=c;b&&this.turnOn()}return this}},{key:"setEventElement",value:function(c){if(c!==this.eventElement){var b=this.isOn;b&&this.turnOff();this.eventElement=c;b&&this.turnOn()}return this}},{key:"getMappings",value:function(){return this.mappings}},{key:"setMappings",value:function(c){this.mappings=c;return this}},{key:"turnOn",value:function(){this.isOn||(this.$.on(this.eventElement,this.eventType,this.listener,!1),this.isOn=!0);return this}},{key:"turnOff",value:function(){this.isOn&&(this.$.off(this.eventElement,this.eventType,this.listener,!1),this.isOn=!1);return this}}]);return e}();e["default"]={install:function(e){e.prototype.getKeyboard=function(){var c=e.applyNewKey();return function(){var b=this.getSpaceByKey(c);b||(b=this.initSpaceByKey(c),b.res=new q(this,c));return b.res}}()}}}])});
