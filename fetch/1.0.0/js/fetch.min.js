/*!
 * A window.fetch JavaScript polyfill. http://github.github.io/fetch/
 * github.com/github/fetch
 * The global fetch function is an easier way to make web requests
 * and handle responses than using an XMLHttpRequest.
 * This polyfill is written as closely as possible
 * to the standard Fetch specification at https://fetch.spec.whatwg.org.
 */
var $jscomp={scope:{},getGlobal:function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global?global:b}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(b,e){($jscomp.patches[b]=$jscomp.patches[b]||[]).push(e);for(var h=$jscomp.global,f=b.split("."),c=0;c<f.length-1&&h;c++)h=h[f[c]];f=f[f.length-1];h&&h[f]instanceof Function&&(h[f]=e(h[f]))};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[e]=h.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var b=[],e=function(e){return function(f){b=[];f=e(f);for(var c=[],l=0,r=f.length;l<r;l++){var m;a:if(m=f[l],m.length<$jscomp.SYMBOL_PREFIX.length)m=!1;else{for(var p=0;p<$jscomp.SYMBOL_PREFIX.length;p++)if(m[p]!=$jscomp.SYMBOL_PREFIX[p]){m=!1;break a}m=!0}m?b.push(f[l]):c.push(f[l])}return c}};$jscomp.patch("Object.keys",e);$jscomp.patch("Object.getOwnPropertyNames",e);$jscomp.patch("Object.getOwnPropertySymbols",function(h){return function(f){e.unused=Object.getOwnPropertyNames(f);b.push.apply(h(f));return b}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+b+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var e=0;return $jscomp.iteratorPrototype(function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};(function(b){function e(a){"string"!==typeof a&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function h(a){"string"!==typeof a&&(a=String(a));return a}function f(a){var d={next:function(){var d=a.shift();return{done:void 0===d,value:d}}};k.iterable&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),d[Symbol.iterator]=function(){return d});return d}function c(a){this.map={};a instanceof c?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(d){this.append(d,a[d])},this)}function l(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function r(a){return new Promise(function(d,b){a.onload=function(){d(a.result)};a.onerror=function(){b(a.error)}})}function m(a){var d=new FileReader;d.readAsArrayBuffer(a);return r(d)}function p(){this.bodyUsed=!1;this._initBody=function(a){this._bodyInit=a;if("string"===typeof a)this._bodyText=a;else if(k.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(k.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(k.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(!a)this._bodyText="";else if(!k.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a))throw Error("unsupported BodyInit type");this.headers.get("content-type")||("string"===typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):k.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))};k.blob?(this.blob=function(){var a=l(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(m)},this.text=function(){var a=l(this);if(a)return a;if(this._bodyBlob){var a=this._bodyBlob,d=new FileReader;d.readAsText(a);return r(d)}if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=l(this);return a?a:Promise.resolve(this._bodyText)};k.formData&&(this.formData=function(){return this.text().then(u)});this.json=function(){return this.text().then(JSON.parse)};return this}function q(a,d){d=d||{};var b=d.body;if(q.prototype.isPrototypeOf(a)){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url;this.credentials=a.credentials;d.headers||(this.headers=new c(a.headers));this.method=a.method;this.mode=a.mode;b||(b=a._bodyInit,a.bodyUsed=!0)}else this.url=a;this.credentials=d.credentials||this.credentials||"omit";if(d.headers||!this.headers)this.headers=new c(d.headers);var f=d.method||this.method||"GET",e=f.toUpperCase();this.method=-1<v.indexOf(e)?e:f;this.mode=d.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&b)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b)}function u(a){var d=new FormData;a.trim().split("&").forEach(function(a){if(a){var b=a.split("=");a=b.shift().replace(/\+/g," ");b=b.join("=").replace(/\+/g," ");d.append(decodeURIComponent(a),decodeURIComponent(b))}});return d}function w(a){var d=new c;(a.getAllResponseHeaders()||"").trim().split("\n").forEach(function(a){var b=a.trim().split(":");a=b.shift().trim();b=b.join(":").trim();d.append(a,b)});return d}function n(a,b){b||(b={});this.type="default";this.status=b.status;this.ok=200<=this.status&&300>this.status;this.statusText=b.statusText;this.headers=b.headers instanceof c?b.headers:new c(b.headers);this.url=b.url||"";this._initBody(a)}if(!b.fetch){$jscomp.initSymbol();var x="Symbol"in b&&"iterator"in Symbol,t;if(t="FileReader"in b&&"Blob"in b)try{new Blob,t=!0}catch(a){t=!1}var k={searchParams:"URLSearchParams"in b,iterable:x,blob:t,formData:"FormData"in b,arrayBuffer:"ArrayBuffer"in b};c.prototype.append=function(a,b){a=e(a);b=h(b);var c=this.map[a];c||(c=[],this.map[a]=c);c.push(b)};c.prototype["delete"]=function(a){delete this.map[e(a)]};c.prototype.get=function(a){return(a=this.map[e(a)])?a[0]:null};c.prototype.getAll=function(a){return this.map[e(a)]||[]};c.prototype.has=function(a){return this.map.hasOwnProperty(e(a))};c.prototype.set=function(a,b){this.map[e(a)]=[h(b)]};c.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(c){this.map[c].forEach(function(f){a.call(b,f,c,this)},this)},this)};c.prototype.keys=function(){var a=[];this.forEach(function(b,c){a.push(c)});return f(a)};c.prototype.values=function(){var a=[];this.forEach(function(b){a.push(b)});return f(a)};c.prototype.entries=function(){var a=[];this.forEach(function(b,c){a.push([c,b])});return f(a)};k.iterable&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),c.prototype[Symbol.iterator]=c.prototype.entries);var v="DELETE GET HEAD OPTIONS POST PUT".split(" ");q.prototype.clone=function(){return new q(this)};p.call(q.prototype);p.call(n.prototype);n.prototype.clone=function(){return new n(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})};n.error=function(){var a=new n(null,{status:0,statusText:""});a.type="error";return a};var y=[301,302,303,307,308];n.redirect=function(a,b){if(-1===y.indexOf(b))throw new RangeError("Invalid status code");return new n(null,{status:b,headers:{location:a}})};b.Headers=c;b.Request=q;b.Response=n;b.fetch=function(a,b){return new Promise(function(c,f){var e;e=q.prototype.isPrototypeOf(a)&&!b?a:new q(a,b);var g=new XMLHttpRequest;g.onload=function(){var a=g.status,b=g.statusText,d=w(g),e;e="responseURL"in g?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):void 0;c(new n("response"in g?g.response:g.responseText,{status:a,statusText:b,headers:d,url:e}))};g.onerror=function(){f(new TypeError("Network request failed"))};g.ontimeout=function(){f(new TypeError("Network request failed"))};g.open(e.method,e.url,!0);"include"===e.credentials&&(g.withCredentials=!0);"responseType"in g&&k.blob&&(g.responseType="blob");e.headers.forEach(function(a,b){g.setRequestHeader(b,a)});g.send("undefined"===typeof e._bodyInit?null:e._bodyInit)})};b.fetch.polyfill=!0}})("undefined"!==typeof self?self:this);
