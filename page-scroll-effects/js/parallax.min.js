/**
 * edited from main.js
 * other effects have been cut out
 * minified with Closure
 * codyhouse.co/gem/page-scroll-effects/
 */
jQuery(document).ready(function(c){function y(b,a){"desktop"==b&&a?("on"==f?(E(),c(window).on("DOMMouseScroll mousewheel",z)):(h(),c(window).on("scroll",h)),k.on("click",r),p.on("click",t),c(document).on("keydown",function(a){"40"!=a.which||p.hasClass("inactive")?"38"==a.which&&(!k.hasClass("inactive")||k.hasClass("inactive")&&c(window).scrollTop()!=g.eq(0).offset().top)&&(a.preventDefault(),r()):(a.preventDefault(),t())}),v()):"mobile"==b&&(F(),c(window).off("DOMMouseScroll mousewheel",z),c(window).off("scroll",h),k.off("click",r),p.off("click",t),c(document).off("keydown"))}function h(){window.requestAnimationFrame?window.requestAnimationFrame(A):A()}function A(){var b=c(window).scrollTop(),a=c(window).height();c(window).width();g.each(function(){var u=c(this),d=b-u.offset().top,e;e=100;if(d>=-a&&0>=d)e=100*-d/a;else if(0<d&&d<=a)switch(e=100*-d/a,l){case"parallax":e=50*-d/a}else if(d<-a)e=100;else switch(e=-100,l){case"parallax":e=-50}e=[e,1,"0deg",1,0];u.children("div").velocity({translateY:e[0]+"vh",scale:e[1],rotateX:e[2],opacity:e[3],boxShadowBlur:e[4]+"px",translateZ:0},0);0<=d&&d<a?u.addClass("visible"):u.removeClass("visible")});v()}function E(){var b=g.filter(".visible"),a=b.prevAll(".cd-section"),c=b.nextAll(".cd-section"),d=w(l,!1),e=d[0],f=d[1],d=d[2];b.children("div").velocity(e,1,function(){b.css("opacity",1);a.css("opacity",1);c.css("opacity",1)});a.children("div").velocity(f,0);c.children("div").velocity(d,0)}function z(b){0>b.originalEvent.detail||0<b.originalEvent.wheelDelta?(m--,5<=Math.abs(m)&&r()):(m++,5<=m&&t());return!1}function r(b){"undefined"!==typeof b&&b.preventDefault();b=g.filter(".visible");var a="off"==f&&c(window).scrollTop()!=b.offset().top?!0:!1;b=a?b.next(".cd-section"):b;a=w(l,a,"prev");B(b.prev(".cd-section"),a[3]);n||b.is(":first-child")||(n=!0,b.removeClass("visible").children("div").velocity(a[2],a[3],a[4]).end().prev(".cd-section").addClass("visible").children("div").velocity(a[0],a[3],a[4],function(){n=!1;if("off"==f)c(window).on("scroll",h)}));m=0;v()}function t(b){"undefined"!==typeof b&&b.preventDefault();b=g.filter(".visible");var a="off"==f&&c(window).scrollTop()!=b.offset().top?!0:!1,a=w(l,a,"next");B(b.next(".cd-section"),a[3]);n||b.is(":last-of-type")||(n=!0,b.removeClass("visible").children("div").velocity(a[1],a[3],a[4]).end().next(".cd-section").addClass("visible").children("div").velocity(a[0],a[3],a[4],function(){n=!1;if("off"==f)c(window).on("scroll",h)}));m=0;v()}function B(b,a){"off"==f&&(c(window).off("scroll",h),"catch"==l?c("body, html").scrollTop(b.offset().top):b.velocity("scroll",{duration:a}))}function v(){g.filter(".visible").is(":first-of-type")?k.addClass("inactive"):k.removeClass("inactive");g.filter(".visible").is(":last-of-type")?p.addClass("inactive"):p.removeClass("inactive")}function F(){g.children("div").each(function(){c(this).attr("style","")})}function C(){return window.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}function w(b,a,c){a="translateUp";c="ease";switch(b){case"parallax":a="translateUp.half",c="easeInCubic"}return["translateNone",a,"translateDown",800,c]}var f=c("body").data("hijacking"),l=c("body").data("animation"),m=0,n=!1,g=c(".cd-section"),D=c(".cd-vertical-nav"),k=D.find("a.cd-prev"),p=D.find("a.cd-next"),q=C(),x=!1;y(q,!0);c(window).on("resize",function(){q=C();y(q,x);"mobile"==q&&(x=!0);"desktop"==q&&(x=!1)})});$.Velocity.RegisterEffect("translateUp",{defaultDuration:1,calls:[[{translateY:"-100%"},1]]});$.Velocity.RegisterEffect("translateDown",{defaultDuration:1,calls:[[{translateY:"100%"},1]]});$.Velocity.RegisterEffect("translateNone",{defaultDuration:1,calls:[[{translateY:"0",opacity:"1",scale:"1",rotateX:"0",boxShadowBlur:"0"},1]]});$.Velocity.RegisterEffect("translateUp.half",{defaultDuration:1,calls:[[{translateY:"-50%"},1]]});
