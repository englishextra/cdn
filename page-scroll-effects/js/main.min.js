/**
 * minified with Closure
 * codyhouse.co/gem/page-scroll-effects/
 */
jQuery(document).ready(function(e){function B(c){"desktop"==c?("on"==m?(H(),e(window).on("DOMMouseScroll mousewheel",C)):(n(),e(window).on("scroll",n)),p.on("click",v),t.on("click",w),e(document).on("keyup",function(a){"40"!=a.which||t.hasClass("inactive")?"38"==a.which&&(!p.hasClass("inactive")||p.hasClass("inactive")&&e(window).scrollTop()!=h.eq(0).offset().top)&&v():w()}),x()):(I(),e(window).off("DOMMouseScroll mousewheel",C),e(window).off("scroll",n),p.off("click",v),t.off("click",w),e(document).off("keyup"))};function n(){window.requestAnimationFrame?window.requestAnimationFrame(D):D()}function D(){var c=e(window).scrollTop(),a=e(window).height();e(window).width();h.each(function(){var y=e(this),b=c-y.offset().top,g;g=u;var f=1,d=100,h="0deg",l=1,k=0;if(b>=-a&&0>=b)switch(d=100*-b/a,g){case"scaleDown":l=f=1;break;case"rotate":d=0;break;case"gallery":b>=-a&&b<-.9*a?(f=-b/a,d=100*-b/a,k=400*(1+b/a)):b>=-.9*a&&b<-.1*a?(f=.9,d=-112.5*(b+.1*a)/a,k=40):(f=1+b/a,d=0,k=-400*b/a);break;case"catch":b>=-a&&b<-.75*a?(d=100,k=160*(1+b/a)):(d=-(10/7.5)*b*100/a,k=-160*b/(3*a));break;case"opacity":d=0,f=.2*(b+5*a)/a,l=(b+a)/a}else if(0<b&&b<=a)switch(d=100*-b/a,g){case"scaleDown":f=(1-.3*b/a).toFixed(5);l=(1-b/a).toFixed(5);d=0;k=b/a*40;break;case"rotate":l=(1-b/a).toFixed(5);h=90*b/a+"deg";d=0;break;case"gallery":0<=b&&b<.1*a?(f=(a-b)/a,d=100*-(b/a),k=400*b/a):b>=.1*a&&b<.9*a?(f=.9,d=-112.5*(b-.1*a/9)/a,k=40):(f=b/a,d=-100,k=400*(1-b/a));break;case"catch":k=0<=b&&b<a/2?80*b/a:80*(1-b/a);break;case"opacity":d=0;f=.2*(b+5*a)/a;l=(a-b)/a;break;case"fixed":d=0;break;case"parallax":d=50*-b/a}else if(b<-a)switch(d=100,g){case"scaleDown":l=f=1;break;case"gallery":f=1;break;case"opacity":d=0,f=.8,l=0}else switch(d=-100,g){case"scaleDown":f=0;l=.7;d=0;break;case"rotate":d=0;h="90deg";break;case"gallery":f=1;break;case"opacity":d=0;f=1.2;l=0;break;case"fixed":d=0;break;case"parallax":d=-50}g=[d,f,h,l,k];y.children("div").velocity({translateY:g[0]+"vh",scale:g[1],rotateX:g[2],opacity:g[3],boxShadowBlur:g[4]+"px",translateZ:0},0);0<=b&&b<a?y.addClass("visible"):y.removeClass("visible")});x()}function H(){var c=h.filter(".visible"),a=c.prevAll(".cd-section"),e=c.nextAll(".cd-section"),b=z(u,!1),g=b[0],f=b[1],b=b[2];c.children("div").velocity(g,1,function(){c.css("opacity",1);a.css("opacity",1);e.css("opacity",1)});a.children("div").velocity(f,0);e.children("div").velocity(b,0)}function C(c){0>c.originalEvent.detail||0<c.originalEvent.wheelDelta?(q--,5<=Math.abs(q)&&v()):(q++,5<=q&&w());return!1}function v(c){"undefined"!==typeof c&&c.preventDefault();c=h.filter(".visible");var a="off"==m&&e(window).scrollTop()!=c.offset().top?!0:!1;c=a?c.next(".cd-section"):c;a=z(u,a,"prev");E(c.prev(".cd-section"),a[3]);r||c.is(":first-child")||(r=!0,c.removeClass("visible").children("div").velocity(a[2],a[3],a[4]).end().prev(".cd-section").addClass("visible").children("div").velocity(a[0],a[3],a[4],function(){r=!1;if("off"==m)e(window).on("scroll",n)}));q=0;x()}function w(c){"undefined"!==typeof c&&c.preventDefault();c=h.filter(".visible");var a="off"==m&&e(window).scrollTop()!=c.offset().top?!0:!1,a=z(u,a,"next");E(c.next(".cd-section"),a[3]);r||c.is(":last-of-type")||(r=!0,c.removeClass("visible").children("div").velocity(a[1],a[3],a[4]).end().next(".cd-section").addClass("visible").children("div").velocity(a[0],a[3],a[4],function(){r=!1;if("off"==m)e(window).on("scroll",n)}));q=0;x()}function E(c,a){"off"==m&&(e(window).off("scroll",n),"catch"==u?e("body, html").scrollTop(c.offset().top):c.velocity("scroll",{duration:a}))}function x(){h.filter(".visible").is(":first-of-type")?p.addClass("inactive"):p.removeClass("inactive");h.filter(".visible").is(":last-of-type")?t.addClass("inactive"):t.removeClass("inactive")}function I(){h.children("div").each(function(){e(this).attr("style","")})}function F(){return window.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}function z(c,a,e){var b="translateNone",g="translateUp",f="translateDown",d="ease",h=800;switch(c){case"scaleDown":g="scaleDown";d="easeInCubic";break;case"rotate":"off"==m?(g="rotation.scroll",f="translateNone"):(g="rotation",d="easeInCubic");break;case"gallery":h=1500;a?(g="scaleDown.moveUp.scroll",b="scaleUp.moveUp.scroll",f="scaleDown.moveDown.scroll"):(b="next"==e?"scaleUp.moveUp":"scaleUp.moveDown",g="scaleDown.moveUp",f="scaleDown.moveDown");break;case"catch":b="translateUp.delay";break;case"opacity":h=700;g="hide.scaleUp";f="hide.scaleDown";break;case"fixed":g="translateNone";d="easeInCubic";break;case"parallax":g="translateUp.half",d="easeInCubic"}return[b,g,f,h,d]}var m=e("body").data("hijacking"),u=e("body").data("animation"),q=0,r=!1,h=e(".cd-section"),G=e(".cd-vertical-nav"),p=G.find("a.cd-prev"),t=G.find("a.cd-next"),A=F();B(A);e(window).on("resize",function(){A=F();B(A)})});$.Velocity.RegisterEffect("translateUp",{defaultDuration:1,calls:[[{translateY:"-100%"},1]]});$.Velocity.RegisterEffect("translateDown",{defaultDuration:1,calls:[[{translateY:"100%"},1]]});$.Velocity.RegisterEffect("translateNone",{defaultDuration:1,calls:[[{translateY:"0",opacity:"1",scale:"1",rotateX:"0",boxShadowBlur:"0"},1]]});$.Velocity.RegisterEffect("scaleDown",{defaultDuration:1,calls:[[{opacity:"0",scale:"0.7",boxShadowBlur:"40px"},1]]});$.Velocity.RegisterEffect("rotation",{defaultDuration:1,calls:[[{opacity:"0",rotateX:"90",translateY:"-100%"},1]]});$.Velocity.RegisterEffect("rotation.scroll",{defaultDuration:1,calls:[[{opacity:"0",rotateX:"90",translateY:"0"},1]]});$.Velocity.RegisterEffect("scaleDown.moveUp",{defaultDuration:1,calls:[[{translateY:"-10%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"-100%"},.6],[{translateY:"-100%",scale:"1",boxShadowBlur:"0"},.2]]});$.Velocity.RegisterEffect("scaleDown.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"-100%",scale:"0.9",boxShadowBlur:"40px"},.6],[{translateY:"-100%",scale:"1",boxShadowBlur:"0"},.4]]});$.Velocity.RegisterEffect("scaleUp.moveUp",{defaultDuration:1,calls:[[{translateY:"90%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1",boxShadowBlur:"0"},.2]]});$.Velocity.RegisterEffect("scaleUp.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"0%",scale:"0.9",boxShadowBlur:"40px"},.6],[{translateY:"0%",scale:"1",boxShadowBlur:"0"},.4]]});$.Velocity.RegisterEffect("scaleDown.moveDown",{defaultDuration:1,calls:[[{translateY:"10%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"100%"},.6],[{translateY:"100%",scale:"1",boxShadowBlur:"0"},.2]]});$.Velocity.RegisterEffect("scaleDown.moveDown.scroll",{defaultDuration:1,calls:[[{translateY:"100%",scale:"0.9",boxShadowBlur:"40px"},.6],[{translateY:"100%",scale:"1",boxShadowBlur:"0"},.4]]});$.Velocity.RegisterEffect("scaleUp.moveDown",{defaultDuration:1,calls:[[{translateY:"-90%",scale:"0.9",boxShadowBlur:"40px"},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1",boxShadowBlur:"0"},.2]]});$.Velocity.RegisterEffect("translateUp.delay",{defaultDuration:1,calls:[[{translateY:"0%"},.8,{delay:100}]]});$.Velocity.RegisterEffect("hide.scaleUp",{defaultDuration:1,calls:[[{opacity:"0",scale:"1.2"},1]]});$.Velocity.RegisterEffect("hide.scaleDown",{defaultDuration:1,calls:[[{opacity:"0",scale:"0.8"},1]]});$.Velocity.RegisterEffect("translateUp.half",{defaultDuration:1,calls:[[{translateY:"-50%"},1]]});
