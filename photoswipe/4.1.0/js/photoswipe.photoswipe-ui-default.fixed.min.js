/*!
 * modified for babel PhotoSwipe - v4.1.0 - 2015-07-11
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov;
 * github.com/dimsemenov/PhotoSwipe
 * removed module wrapper
 * exposed as window property
 * won't pass jshint
 * closure-compiler.appspot.com/code/jsc791a430ae9a0fab140f8a5be98233036/default.js
 */
;(function(){var Ob=function(){return function(m,Pb,Ob,rc){var f={features:null,bind:function(a,b,c,e){e=(e?"remove":"add")+"EventListener";b=b.split(" ");for(var d=0;d<b.length;d++)b[d]&&a[e](b[d],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){f.bind(a,b,c,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){f.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(f.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var e=a.length;e--;)if(a[e][c]===b)return e;return-1},extend:function(a,b,c){for(var e in b)!b.hasOwnProperty(e)||c&&a.hasOwnProperty(e)||(a[e]=b[e])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(f.features)return f.features;var a=f.createEl().style,b="",c={};if(c.oldIE=document.all&&!document.addEventListener,c.touch="ontouchstart"in window,window.requestAnimationFrame&&(c.raf=window.requestAnimationFrame,c.caf=window.cancelAnimationFrame),c.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!c.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);e&&0<e.length&&(e=parseInt(e[1],10),1<=e&&8>e&&(c.isOldIOSPhone=!0))}e=(e=b.match(/Android\s([0-9\.]*)/))?e[1]:0;e=parseFloat(e);1<=e&&(4.4>e&&(c.isOldAndroid=!0),c.androidVersion=e);c.isMobileOpera=/opera mini|opera mobi/i.test(b)}for(var d,g=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],l=0;4>l;l++){for(var b=h[l],k=0;3>k;k++)e=g[k],d=b+(b?e.charAt(0).toUpperCase()+e.slice(1):e),!c[e]&&d in a&&(c[e]=d);b&&!c.raf&&(b=b.toLowerCase(),c.raf=window[b+"RequestAnimationFrame"],c.raf&&(c.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!c.raf){var n=0;c.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-n)),e=window.setTimeout(function(){a(b+c)},c);return n=b+c,e};c.caf=function(a){clearTimeout(a)}}return c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f.features=c,c}};f.detectFeatures();f.features.oldIE&&(f.bind=function(a,b,c,e){b=b.split(" ");for(var d,f=(e?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(d=b[h])if("object"==typeof c&&c.handleEvent){if(e){if(!c["oldIE"+d])return!1}else c["oldIE"+d]=g;a[f]("on"+d,c["oldIE"+d])}else a[f]("on"+d,c)});var d=this,h={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit",alwaysFadeIn:!1};f.extend(h,rc);var qa,Qb,lb,l,Rb,P,Da,Ua,z,q,ea,mb,nb,ob,pb,u,Sb,Va,Wa,Ea,Xa,ra,fa,Q,Ya,qb,Tb,Ub,rb,ga,p,Vb,Za,Fa,sb,Ga,Ha,M,tb,ha,sa,$a,ia,I,R,Wb,k,S,A,V,ub,ab,bb,cb,db,W=function(){return{x:0,y:0}},K=W(),ta=W(),g=W(),B={},X=0,ua={},E=W(),L=0,eb=!0,vb=[],Ia={},va=!1,Ja=function(a,b){f.extend(d,b.publicMethods);vb.push(a)},fb=function(a){var b=F();return a>b-1?a-b:0>a?b+a:a},Ka={},r=function(a,b){return Ka[a]||(Ka[a]=[]),Ka[a].push(b)},n=function(a){var b=Ka[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var e=0;e<b.length;e++)b[e].apply(d,c)}},N=function(){return(new Date).getTime()},T=function(a){bb=a;d.bg.style.opacity=a*h.bgOpacity},Xb=function(a,b,c,e,f){(!va||f&&f!==d.currItem)&&(e/=f?f.fitRatio:d.currItem.fitRatio);a[ra]=mb+b+"px, "+c+"px"+nb+" scale("+e+")"},v=function(a){S&&(a&&(q>d.currItem.fitRatio?va||(ja(d.currItem,!1,!0),va=!0):va&&(ja(d.currItem),va=!1)),Xb(S,g.x,g.y,q))},La=function(a){a.container&&Xb(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},wa=function(a,b){b[ra]=mb+a+"px, 0px"+nb},gb=function(a,b){if(!h.loop&&b){var c=l+(E.x*X-a)/E.x,e=Math.round(a-U.x);(0>c&&0<e||c>=F()-1&&0>e)&&(a=U.x+e*h.mainScrollEndFriction)}U.x=a;wa(a,Rb)},wb=function(a,b){var c=Ma[a]-ua[a];return ta[a]+K[a]+c-b/ea*c},C=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Yb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},xb=null,yb=function(){xb&&(f.unbind(document,"mousemove",yb),f.addClass(m,"pswp--has_mouse"),h.mouseUsed=!0,n("mouseUsed"));xb=setTimeout(function(){xb=null},100)},zb=function(a,b){var c=Na(d.currItem,B,a);return b&&(k=c),c},Zb=function(a){return a||(a=d.currItem),a.initialZoomLevel},$b=function(a){return a||(a=d.currItem),0<a.w?h.maxSpreadZoom:1},ac=function(a,b,c,e){return e===d.currItem.initialZoomLevel?(c[a]=d.currItem.initialPosition[a],!0):(c[a]=wb(a,e),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},sc=function(){if(ra)return mb="translate"+(p.perspective&&!Q?"3d(":"("),void(nb=p.perspective?", 0px)":")");ra="left";f.addClass(m,"pswp--ie");wa=function(a,b){b.left=a+"px"};La=function(a){var b=1<a.fitRatio?1:a.fitRatio,c=a.container.style,e=b*a.h;c.width=b*a.w+"px";c.height=e+"px";c.left=a.initialPosition.x+"px";c.top=a.initialPosition.y+"px"};v=function(){if(S){var a=S,b=d.currItem,c=1<b.fitRatio?1:b.fitRatio,e=c*b.h;a.width=c*b.w+"px";a.height=e+"px";a.left=g.x+"px";a.top=g.y+"px"}}},tc=function(a){var b="";h.escKey&&27===a.keyCode?b="close":h.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next"));b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,d[b]()))},uc=function(a){a&&(sa||ha||A||Ga)&&(a.preventDefault(),a.stopPropagation())},bc=function(){d.setScrollOffset(0,f.getScrollY())},G={},xa=0,Oa=function(a){G[a]&&(G[a].raf&&qb(G[a].raf),xa--,delete G[a])},Ab=function(a){G[a]&&Oa(a);G[a]||(xa++,G[a]={})},Pa=function(){for(var a in G)G.hasOwnProperty(a)&&Oa(a)},Qa=function(a,b,c,e,d,f,g){var h,da=N();Ab(a);var t=function(){if(G[a]){if(h=N()-da,h>=e)return Oa(a),f(c),void(g&&g());f((c-b)*d(h/e)+b);G[a].raf=Ya(t)}};t()},vc={shout:n,listen:r,viewportSize:B,options:h,isMainScrollAnimating:function(){return A},getZoomLevel:function(){return q},getCurrentIndex:function(){return l},isDragging:function(){return M},isZooming:function(){return R},setScrollOffset:function(a,b){ua.x=a;ga=ua.y=b;n("updateScrollOffset",ua)},applyZoomPan:function(a,b,c,e){g.x=b;g.y=c;q=a;v(e)},init:function(){if(!qa&&!Qb){var a;d.framework=f;d.template=m;d.bg=f.getChildByClass(m,"pswp__bg");Tb=m.className;qa=!0;p=f.detectFeatures();Ya=p.raf;qb=p.caf;ra=p.transform;rb=p.oldIE;d.scrollWrap=f.getChildByClass(m,"pswp__scroll-wrap");d.container=f.getChildByClass(d.scrollWrap,"pswp__container");Rb=d.container.style;d.itemHolders=u=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}];u[0].el.style.display=u[2].el.style.display="none";sc();z={resize:d.updateSize,scroll:bc,keydown:tc,click:uc};a=p.isOldIOSPhone||p.isOldAndroid||p.isMobileOpera;p.animationName&&p.transform&&!a||(h.showAnimationDuration=h.hideAnimationDuration=0);for(a=0;a<vb.length;a++)d["init"+vb[a]]();Pb&&(d.ui=new Pb(d,f)).init();n("firstUpdate");l=l||h.index||0;(isNaN(l)||0>l||l>=F())&&(l=0);d.currItem=Y(l);(p.isOldIOSPhone||p.isOldAndroid)&&(eb=!1);m.setAttribute("aria-hidden","false");h.modal&&(eb?m.style.position="fixed":(m.style.position="absolute",m.style.top=f.getScrollY()+"px"));void 0===ga&&(n("initialLayout"),ga=Ub=f.getScrollY());a="pswp--open ";h.mainClass&&(a+=h.mainClass+" ");h.showHideOpacity&&(a+="pswp--animate_opacity ");a+=Q?"pswp--touch":"pswp--notouch";a+=p.animationName?" pswp--css_animation":"";a+=p.svg?" pswp--svg":"";f.addClass(m,a);d.updateSize();P=-1;L=null;for(a=0;3>a;a++)wa((a+P)*E.x,u[a].el.style);rb||f.bind(d.scrollWrap,Ua,d);r("initialZoomInEnd",function(){d.setContent(u[0],l-1);d.setContent(u[2],l+1);u[0].el.style.display=u[2].el.style.display="block";h.focus&&m.focus();f.bind(document,"keydown",d);p.transform&&f.bind(d.scrollWrap,"click",d);h.mouseUsed||f.bind(document,"mousemove",yb);f.bind(window,"resize scroll",d);n("bindEvents")});d.setContent(u[1],l);d.updateCurrItem();n("afterInit");eb||(ob=setInterval(function(){xa||M||R||q!==d.currItem.initialZoomLevel||d.updateSize()},1E3));f.addClass(m,"pswp--visible")}},close:function(){qa&&(qa=!1,Qb=!0,n("close"),f.unbind(window,"resize",d),f.unbind(window,"scroll",z.scroll),f.unbind(document,"keydown",d),f.unbind(document,"mousemove",yb),p.transform&&f.unbind(d.scrollWrap,"click",d),M&&f.unbind(window,Da,d),n("unbindEvents"),cc(d.currItem,null,!0,d.destroy))},destroy:function(){n("destroy");ka&&clearTimeout(ka);m.setAttribute("aria-hidden","true");m.className=Tb;ob&&clearInterval(ob);f.unbind(d.scrollWrap,Ua,d);f.unbind(window,"scroll",d);Bb();Pa();Ka=null},panTo:function(a,b,c){c||(a>k.min.x?a=k.min.x:a<k.max.x&&(a=k.max.x),b>k.min.y?b=k.min.y:b<k.max.y&&(b=k.max.y));g.x=a;g.y=b;v()},handleEvent:function(a){a=a||window.event;z[a.type]&&z[a.type](a)},goTo:function(a){a=fb(a);var b=a-l;L=b;l=a;d.currItem=Y(l);X-=b;gb(E.x*X);Pa();A=!1;d.updateCurrItem()},next:function(){d.goTo(l+1)},prev:function(){d.goTo(l-1)},updateCurrZoomItem:function(a){if(a&&n("beforeChange",0),u[1].el.children.length){var b=u[1].el.children[0];S=f.hasClass(b,"pswp__zoom-wrap")?b.style:null}else S=null;k=d.currItem.bounds;ea=q=d.currItem.initialZoomLevel;g.x=k.center.x;g.y=k.center.y;a&&n("afterChange")},invalidateCurrItems:function(){pb=!0;for(var a=0;3>a;a++)u[a].item&&(u[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==L){var b,c=Math.abs(L);if(!(a&&2>c)){d.currItem=Y(l);va=!1;n("beforeChange",L);3<=c&&(P+=L+(0<L?-3:3),c=3);for(a=0;c>a;a++)0<L?(b=u.shift(),u[2]=b,P++,wa((P+2)*E.x,b.el.style),d.setContent(b,l-c+a+1+1)):(b=u.pop(),u.unshift(b),P--,wa(P*E.x,b.el.style),d.setContent(b,l+c-a-1-1));S&&1===Math.abs(L)&&(b=Y(Sb),b.initialZoomLevel!==q&&(Na(b,B),ja(b),La(b)));L=0;d.updateCurrZoomItem();Sb=l;n("afterChange")}}},updateSize:function(a){if(!eb&&h.modal){var b=f.getScrollY();if(ga!==b&&(m.style.top=b+"px",ga=b),!a&&Ia.x===window.innerWidth&&Ia.y===window.innerHeight)return;Ia.x=window.innerWidth;Ia.y=window.innerHeight;m.style.height=Ia.y+"px"}if(B.x=d.scrollWrap.clientWidth,B.y=d.scrollWrap.clientHeight,bc(),E.x=B.x+Math.round(B.x*h.spacing),E.y=B.y,gb(E.x*X),n("beforeResize"),void 0!==P){for(var c,e=0;3>e;e++)a=u[e],wa((e+P)*E.x,a.el.style),c=l+e-1,h.loop&&2<F()&&(c=fb(c)),(b=Y(c))&&(pb||b.needsUpdate||!b.bounds)?(d.cleanSlide(b),d.setContent(a,c),1===e&&(d.currItem=b,d.updateCurrZoomItem(!0)),b.needsUpdate=!1):-1===a.index&&0<=c&&d.setContent(a,c),b&&b.container&&(Na(b,B),ja(b),La(b));pb=!1}ea=q=d.currItem.initialZoomLevel;(k=d.currItem.bounds)&&(g.x=k.center.x,g.y=k.center.y,v(!0));n("resize")},zoomTo:function(a,b,c,e,d){b&&(ea=q,Ma.x=Math.abs(b.x)-g.x,Ma.y=Math.abs(b.y)-g.y,C(ta,g));b=zb(a,!1);var h={};ac("x",b,h,a);ac("y",b,h,a);var da=q,l=g.x,k=g.y;Yb(h);b=function(b){1===b?(q=a,g.x=h.x,g.y=h.y):(q=(a-da)*b+da,g.x=(h.x-l)*b+l,g.y=(h.y-k)*b+k);d&&d(b);v(1===b)};c?Qa("customZoomTo",0,1,c,e||f.easing.sine.inOut,b):b(1)}},w={},O={},x={},D={},ya={},Z=[],la={},ma=[],Cb,Db,hb=0,Ra=W(),Eb=0,U=W(),Ma=W(),na=W(),dc=function(a,b){return Cb=Math.abs(a.x-b.x),Db=Math.abs(a.y-b.y),Math.sqrt(Cb*Cb+Db*Db)},Bb=function(){$a&&(qb($a),$a=null)},ec=function(){if(M&&($a=Ya(ec),I)){var a=I.length;if(0!==a)if(C(w,I[0]),x.x=w.x-D.x,x.y=w.y-D.y,R&&1<a){D.x=w.x;D.y=w.y;if(a=!x.x&&!x.y)a=I[1],a=a.x===O.x&&a.y===O.y;if(!a){C(O,I[1]);ha||(ha=!0,n("zoomGestureStarted"));a=dc(w,O);a=1/Wb*a*ea;a>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(cb=!0);var b=1,c=Zb(),e=$b();c>a?h.pinchToClose&&!cb&&ea<=d.currItem.initialZoomLevel?(b=1-(c-a)/(c/1.2),T(b),n("onPinchClose",b),ab=!0):(b=(c-a)/c,1<b&&(b=1),a=c-c/3*b):a>e&&(b=(a-e)/(6*c),1<b&&(b=1),a=e+b*c);Ra.x=.5*(w.x+O.x);Ra.y=.5*(w.y+O.y);K.x+=Ra.x-na.x;K.y+=Ra.y-na.y;C(na,Ra);g.x=wb("x",a);g.y=wb("y",a);sb=a>q;q=a;v()}}else V&&(ub&&(ub=!1,10<=Math.abs(x.x)&&(x.x-=I[0].x-ya.x),10<=Math.abs(x.y)&&(x.y-=I[0].y-ya.y)),D.x=w.x,D.y=w.y,0!==x.x||0!==x.y)&&("v"===V&&h.closeOnVerticalDrag&&"fit"===h.scaleMode&&q===d.currItem.initialZoomLevel?(K.y+=x.y,g.y+=x.y,a=fc(),Ga=!0,n("onVerticalDrag",a),T(a),v()):(a=N(),b=w.x,c=w.y,50<a-Za&&(e=2<ma.length?ma.shift():{},e.x=b,e.y=c,ma.push(e),Za=a),sa=!0,k=d.currItem.bounds,gc("x",x)||(gc("y",x),Yb(g),v())))}},hc=function(a,b){return a?a.className&&-1<a.className.indexOf("pswp__scroll-wrap")?!1:b(a)?a:hc(a.parentNode,b):!1},Fb={},ic=function(a,b){return Fb.prevent=!hc(a.target,h.isClickableElement),n("preventDragEvent",a,b,Fb),Fb.prevent},jc=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},fc=function(){return 1-Math.abs((g.y-d.currItem.initialPosition.y)/(B.y/2))},Sa={},wc={},aa=[],Gb=function(a){for(;0<aa.length;)aa.pop();return fa?(db=0,Z.forEach(function(a){0===db?aa[0]=a:1===db&&(aa[1]=a);db++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(aa[0]=jc(a.touches[0],Sa),1<a.touches.length&&(aa[1]=jc(a.touches[1],wc))):(Sa.x=a.pageX,Sa.y=a.pageY,Sa.id="",aa[0]=Sa),aa},gc=function(a,b){var c,e,f,t,l=g[a]+b[a],n=0<b[a],m=U.x+b.x,p=U.x-la.x;return c=l>k.min[a]||l<k.max[a]?h.panEndFriction:1,l=g[a]+b[a]*c,!h.allowPanToNext&&q!==d.currItem.initialZoomLevel||(S?"h"!==V||"x"!==a||ha||(n?(l>k.min[a]&&(c=h.panEndFriction,e=k.min[a]-ta[a]),(0>=e||0>p)&&1<F()?(t=m,0>p&&m>la.x&&(t=la.x)):k.min.x!==k.max.x&&(f=l)):(l<k.max[a]&&(c=h.panEndFriction,e=ta[a]-k.max[a]),(0>=e||0<p)&&1<F()?(t=m,0<p&&m<la.x&&(t=la.x)):k.min.x!==k.max.x&&(f=l))):t=m,"x"!==a)?void(A||ia||q>d.currItem.fitRatio&&(g[a]+=b[a]*c)):(void 0!==t&&(gb(t,!0),ia=t===la.x?!1:!0),k.min.x!==k.max.x&&(void 0!==f?g.x=f:ia||(g.x+=b.x*c)),void 0!==t)},xc=function(a){if(!("mousedown"===a.type&&0<a.button)){if(za)return void a.preventDefault();if(!Ha||"mousedown"!==a.type){if(ic(a,!0)&&a.preventDefault(),n("pointerDown"),fa){var b=f.arraySearch(Z,a.pointerId,"id");0>b&&(b=Z.length);Z[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=Gb(a);b=a.length;I=null;Pa();M&&1!==b||(M=ub=!0,f.bind(window,Da,d),sb=cb=ab=Ga=ia=sa=tb=ha=!1,V=null,n("firstTouchStart",a),C(ta,g),K.x=K.y=0,C(D,a[0]),C(ya,D),la.x=E.x*X,ma=[{x:D.x,y:D.y}],Za=Vb=N(),zb(q,!0),Bb(),ec());!R&&1<b&&!A&&!ia&&(ea=q,ha=!1,R=tb=!0,K.y=K.x=0,C(ta,g),C(w,a[0]),C(O,a[1]),na.x=.5*(w.x+O.x),na.y=.5*(w.y+O.y),Ma.x=Math.abs(na.x)-g.x,Ma.y=Math.abs(na.y)-g.y,Wb=dc(w,O))}}},yc=function(a){if(a.preventDefault(),fa){var b=f.arraySearch(Z,a.pointerId,"id");-1<b&&(b=Z[b],b.x=a.pageX,b.y=a.pageY)}M&&(a=Gb(a),V||sa||R?I=a:U.x!==E.x*X?V="h":(b=Math.abs(a[0].x-D.x)-Math.abs(a[0].y-D.y),10<=Math.abs(b)&&(V=0<b?"h":"v",I=a)))},Dc=function(a){if(p.isOldAndroid){if(Ha&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(Ha),Ha=setTimeout(function(){Ha=0},600))}n("pointerUp");ic(a,!1)&&a.preventDefault();var b;if(fa){var c=f.arraySearch(Z,a.pointerId,"id");-1<c&&((b=Z.splice(c,1)[0],navigator.pointerEnabled)?b.type=a.pointerType||"mouse":(b.type={4:"mouse",2:"touch",3:"pen"}[a.pointerType],b.type||(b.type=a.pointerType||"mouse")))}var e=Gb(a),c=e.length;if("mouseup"===a.type&&(c=0),2===c)return I=null,!0;1===c&&C(ya,e[0]);0!==c||V||A||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),n("touchRelease",a,b));b=-1;if(0===c&&(M=!1,f.unbind(window,Da,d),Bb(),R?b=0:-1!==Eb&&(b=N()-Eb)),Eb=1===c?N():-1,a=-1!==b&&150>b?"zoom":"swipe",R&&2>c&&(R=!1,1===c&&(a="zoomPointerUp"),n("zoomGestureEnded")),I=null,sa||ha||A||Ga)if(Pa(),Fa||(Fa=zc()),Fa.calculateSwipeSpeed("x"),Ga)if(fc()<h.verticalDragRange)d.close();else{var l=g.y,t=bb;Qa("verticalDrag",0,1,300,f.easing.cubic.out,function(a){g.y=(d.currItem.initialPosition.y-l)*a+l;T((1-t)*a+t);v()});n("onVerticalDrag",1)}else{if((ia||A)&&0===c){if(Ac(a,Fa))return;a="zoomPointerUp"}if(!A)return"swipe"!==a?void Bc():void(!ia&&q>d.currItem.fitRatio&&Cc(Fa))}},zc=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){1<ma.length?(a=N()-Za+50,b=ma[ma.length-2][e]):(a=N()-Vb,b=ya[e]);c.lastFlickOffset[e]=D[e]-b;c.lastFlickDist[e]=Math.abs(c.lastFlickOffset[e]);20<c.lastFlickDist[e]?c.lastFlickSpeed[e]=c.lastFlickOffset[e]/a:c.lastFlickSpeed[e]=0;.1>Math.abs(c.lastFlickSpeed[e])&&(c.lastFlickSpeed[e]=0);c.slowDownRatio[e]=.95;c.slowDownRatioReverse[e]=1-c.slowDownRatio[e];c.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(g[a]>k.min[a]?c.backAnimDestination[a]=k.min[a]:g[a]<k.max[a]&&(c.backAnimDestination[a]=k.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],.05>c.speedDecelerationRatioAbs[a]&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,Qa("bounceZoomPan"+a,g[a],c.backAnimDestination[a],b||300,f.easing.sine.out,function(b){g[a]=b;v()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]*=c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10,c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,g[a]+=c.distanceOffset[a])},panAnimLoop:function(){return G.zoomPan&&(G.zoomPan.raf=Ya(c.panAnimLoop),c.now=N(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),v(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),.05>c.speedDecelerationRatioAbs.x&&.05>c.speedDecelerationRatioAbs.y)?(g.x=Math.round(g.x),g.y=Math.round(g.y),v(),void Oa("zoomPan")):void 0}};return c},Cc=function(a){return a.calculateSwipeSpeed("y"),k=d.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y)?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(Ab("zoomPan"),a.lastNow=N(),void a.panAnimLoop())},Ac=function(a,b){var c;A||(hb=l);var e;if("swipe"===a){var g=D.x-ya.x,t=10>b.lastFlickDist.x;30<g&&(t||20<b.lastFlickOffset.x)?e=-1:-30>g&&(t||-20>b.lastFlickOffset.x)&&(e=1)}var k;e&&(l+=e,0>l?(l=h.loop?F()-1:0,k=!0):l>=F()&&(l=h.loop?0:F()-1,k=!0),(!k||h.loop)&&(L+=e,X-=e,c=!0));var m;e=E.x*X;g=Math.abs(e-U.x);return c||e>U.x==0<b.lastFlickSpeed.x?(m=0<Math.abs(b.lastFlickSpeed.x)?g/Math.abs(b.lastFlickSpeed.x):333,m=Math.min(m,400),m=Math.max(m,250)):m=333,hb===l&&(c=!1),A=!0,n("mainScrollAnimStart"),Qa("mainScroll",U.x,e,m,f.easing.cubic.out,gb,function(){Pa();A=!1;hb=-1;(c||hb!==l)&&d.updateCurrItem();n("mainScrollAnimComplete")}),c&&d.updateCurrItem(!0),c},Bc=function(){var a=q,b=Zb(),c=$b();b>q?a=b:q>c&&(a=c);var e,h=bb;return ab&&!sb&&!cb&&b>q?(d.close(),!0):(ab&&(e=function(a){T((1-h)*a+h)}),d.zoomTo(a,0,200,f.easing.cubic.out,e),!0)};Ja("Gestures",{publicMethods:{initGestures:function(){var a=function(a,c,e,d,f){Va=a+c;Wa=a+e;Ea=a+d;Xa=f?a+f:""};(fa=p.pointerEvent)&&p.touch&&(p.touch=!1);fa?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):p.touch?(a("touch","start","move","end","cancel"),Q=!0):a("mouse","down","move","up");Da=Wa+" "+Ea+" "+Xa;Ua=Va;fa&&!Q&&(Q=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);d.likelyTouchDevice=Q;z[Va]=xc;z[Wa]=yc;z[Ea]=Dc;Xa&&(z[Xa]=z[Ea]);p.touch&&(Ua+=" mousedown",Da+=" mousemove mouseup",z.mousedown=z[Va],z.mousemove=z[Wa],z.mouseup=z[Ea]);Q||(h.allowPanToNext=!1)}}});var ka,ba,Hb,za,Y,F,cc=function(a,b,c,e){ka&&clearTimeout(ka);Hb=za=!0;var k;a.initialLayout?(k=a.initialLayout,a.initialLayout=null):k=h.getThumbBoundsFn&&h.getThumbBoundsFn(l);var t=c?h.hideAnimationDuration:h.showAnimationDuration,p=function(){Oa("initialZoom");c?(d.template.removeAttribute("style"),d.bg.removeAttribute("style")):(T(1),b&&(b.style.display="block"),f.addClass(m,"pswp--animated-in"),n("initialZoom"+(c?"OutEnd":"InEnd")));e&&e();za=!1};t&&k&&void 0!==k.x?function(){var b=lb,e=!d.currItem.src||d.currItem.loadError||h.showHideOpacity;a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden");c||(q=k.w/a.w,g.x=k.x,g.y=k.y-Ub,d[e?"template":"bg"].style.opacity=.001,v());Ab("initialZoom");c&&!b&&f.removeClass(m,"pswp--animated-in");e&&(c?f[(b?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){f.addClass(m,"pswp--animate_opacity")},30));ka=setTimeout(function(){if(n("initialZoom"+(c?"Out":"In")),c){var d=k.w/a.w,h=g.x,l=g.y,da=q,r=bb,u=function(a){1===a?(q=d,g.x=k.x,g.y=k.y-ga):(q=(d-da)*a+da,g.x=(k.x-h)*a+h,g.y=(k.y-ga-l)*a+l);v();e?m.style.opacity=1-a:T(r-a*r)};b?Qa("initialZoom",0,1,t,f.easing.cubic.out,u,p):(u(1),ka=setTimeout(p,t+20))}else q=a.initialZoomLevel,C(g,a.initialPosition),v(),T(1),e?m.style.opacity=1:T(1),ka=setTimeout(p,t+20)},c?25:90)}():(n("initialZoom"+(c?"Out":"In")),q=a.initialZoomLevel,C(g,a.initialPosition),v(),m.style.opacity=c?0:1,T(1),p())},Aa,Ba,oa=[],Ec={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return ba.length}},kc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Na=function(a,b,c){if(a.src&&!a.loadError){var e=!c;if(e&&(a.vGap||(a.vGap={top:0,bottom:0}),n("parseVerticalMargin",a)),Aa=b.x,Ba=b.y-a.vGap.top-a.vGap.bottom,e){b=Aa/a.w;var d=Ba/a.h;a.fitRatio=d>b?b:d;b=h.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=kc())}if(!c)return;b=a.w*c;var d=a.h*c,f=a.bounds;f.center.x=Math.round((Aa-b)/2);f.center.y=Math.round((Ba-d)/2)+a.vGap.top;f.max.x=b>Aa?Math.round(Aa-b):f.center.x;f.max.y=d>Ba?Math.round(Ba-d)+a.vGap.top:f.center.y;f.min.x=b>Aa?0:f.center.x;f.min.y=d>Ba?a.vGap.top:f.center.y;return e&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=kc(),a.initialPosition=a.bounds.center,a.bounds},ib=function(a,b,c,d,f,h){b.loadError||d&&(b.imageAppended=!0,ja(b,d),c.appendChild(d),h&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},lc=function(a){a.loading=!0;a.loaded=!1;var b=a.img=f.createEl("pswp__img","img"),c=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};return b.onload=c,b.onerror=function(){a.loadError=!0;c()},b.src=a.src,b},mc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=""),a.container.innerHTML=h.errorMsg.replace("%url%",a.src),!0):void 0},ja=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio);c=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=c+"px");b.style.width=d+"px";b.style.height=c+"px"}},nc=function(){if(oa.length){for(var a,b=0;b<oa.length;b++)a=oa[b],a.holder.index===a.index&&ib(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);oa=[]}};Ja("Controller",{publicMethods:{lazyLoadItem:function(a){a=fb(a);var b=Y(a);!b||b.loaded||b.loading||(n("gettingData",a,b),b.src&&lc(b))},initController:function(){f.extend(h,Ec,!0);d.items=ba=Ob;Y=d.getItemAt;F=h.getNumItemsFn;3>F()&&(h.loop=!1);r("beforeChange",function(a){var b;b=h.preload;a=null===a?!0:0<a;var c=Math.min(b[0],F()),e=Math.min(b[1],F());for(b=1;(a?e:c)>=b;b++)d.lazyLoadItem(l+b);for(b=1;(a?c:e)>=b;b++)d.lazyLoadItem(l-b)});r("initialLayout",function(){d.currItem.initialLayout=h.getThumbBoundsFn&&h.getThumbBoundsFn(l)});r("mainScrollAnimComplete",nc);r("initialZoomInEnd",nc);r("destroy",function(){for(var a,b=0;b<ba.length;b++)a=ba[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);oa=null})},getItemAt:function(a){return 0<=a&&void 0!==ba[a]?ba[a]:!1},allowProgressiveImg:function(){return h.forceProgressiveLoading||!Q||h.mouseUsed||1200<screen.width},setContent:function(a,b){h.loop&&(b=fb(b));var c=d.getItemAt(a.index);c&&(c.container=null);var e,c=d.getItemAt(b);if(!c)return void(a.el.innerHTML="");n("gettingData",b,c);a.index=b;a.item=c;var g=c.container=f.createEl("pswp__zoom-wrap");if(!c.src&&c.html&&(c.html.tagName?g.appendChild(c.html):g.innerHTML=c.html),mc(c),Na(c,B),!c.src||c.loadError||c.loaded)c.src&&!c.loadError&&(e=f.createEl("pswp__img","img"),e.style.opacity=1,e.src=c.src,ja(c,e),ib(b,c,g,e,!0));else{if(c.loadComplete=function(c){if(qa){if(a&&a.index===b){if(mc(c,!0))return c.loadComplete=c.img=null,Na(c,B),La(c),void(a.index===l&&d.updateCurrZoomItem());c.imageAppended?!za&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):p.transform&&(A||za)?oa.push({item:c,baseDiv:g,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ib(b,c,g,c.img,A||za,!0)}c.loadComplete=null;c.img=null;n("imageLoadComplete",b,c)}},f.features.transform){var k=f.createEl("pswp__img pswp__img--placeholder"+(c.msrc?"":" pswp__img--placeholder--blank"),c.msrc?"img":"");c.msrc&&(k.src=c.msrc);ja(c,k);g.appendChild(k);c.placeholder=k}c.loading||lc(c);d.allowProgressiveImg()&&(!Hb&&p.transform?oa.push({item:c,baseDiv:g,img:c.img,index:b,holder:a}):ib(b,c,g,c.img,!0,!0))}Hb||b!==l?La(c):(S=g.style,cc(c,e||c.img));a.el.innerHTML="";a.el.appendChild(g)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var ca,jb={},Ib=function(a,b,c){var d=document.createEvent("CustomEvent");d.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(d)};Ja("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",d.onTapStart);r("touchRelease",d.onTapRelease);r("destroy",function(){jb={};ca=null})},onTapStart:function(a){1<a.length&&(clearTimeout(ca),ca=null)},onTapRelease:function(a,b){if(b&&!sa&&!tb&&!xa){if(ca&&(clearTimeout(ca),ca=null,25>Math.abs(b.x-jb.x)&&25>Math.abs(b.y-jb.y)))return void n("doubleTap",b);if("mouse"===b.type)return void Ib(a,b,"mouse");if("BUTTON"===a.target.tagName.toUpperCase()||f.hasClass(a.target,"pswp__single-tap"))return void Ib(a,b);C(jb,b);ca=setTimeout(function(){Ib(a,b);ca=null},300)}}}});var H;Ja("DesktopZoom",{publicMethods:{initDesktopZoom:function(){rb||(Q?r("mouseUsed",function(){d.setupDesktopZoom()}):d.setupDesktopZoom(!0))},setupDesktopZoom:function(a){H={};r("bindEvents",function(){f.bind(m,"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});r("unbindEvents",function(){H&&f.unbind(m,"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});d.mouseZoomedIn=!1;var b,c=function(){d.mouseZoomedIn&&(f.removeClass(m,"pswp--zoomed-in"),d.mouseZoomedIn=!1);1>q?f.addClass(m,"pswp--zoom-allowed"):f.removeClass(m,"pswp--zoom-allowed");e()},e=function(){b&&(f.removeClass(m,"pswp--dragging"),b=!1)};r("resize",c);r("afterChange",c);r("pointerDown",function(){d.mouseZoomedIn&&(b=!0,f.addClass(m,"pswp--dragging"))});r("pointerUp",e);a||c()},handleMouseWheel:function(a){if(q<=d.currItem.fitRatio)return h.modal&&(!h.closeOnScroll||xa||M?a.preventDefault():ra&&2<Math.abs(a.deltaY)&&(lb=!0,d.close())),!0;if(a.stopPropagation(),H.x=0,"deltaX"in a)1===a.deltaMode?(H.x=18*a.deltaX,H.y=18*a.deltaY):(H.x=a.deltaX,H.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(H.x=-.16*a.wheelDeltaX),a.wheelDeltaY?H.y=-.16*a.wheelDeltaY:H.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;H.y=a.detail}zb(q,!0);var b=g.x-H.x,c=g.y-H.y;(h.modal||b<=k.min.x&&b>=k.max.x&&c<=k.min.y&&c>=k.max.y)&&a.preventDefault();d.panTo(b,c)},toggleDesktopZoom:function(a){a=a||{x:B.x/2+ua.x,y:B.y/2+ua.y};var b=h.getDoubleTapZoom(!0,d.currItem),c=q===b;d.mouseZoomedIn=!c;d.zoomTo(c?d.currItem.initialZoomLevel:b,a,333);f[(c?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}});var Ta,oc,pa,kb,Jb,pc,y,Ca,Kb,Lb,J,Mb,Fc={history:!0,galleryUID:1},qc=function(){var a=J.hash.substring(1),b={};if(5>a.length)return b;for(var c=a.split("&"),a=0;a<c.length;a++)if(c[a]){var d=c[a].split("=");2>d.length||(b[d[0]]=d[1])}if(h.galleryPIDs)for(c=b.pid,a=b.pid=0;a<ba.length;a++){if(ba[a].pid===c){b.pid=a;break}}else b.pid=parseInt(b.pid,10)-1;return 0>b.pid&&(b.pid=0),b},Nb=function(){if(pa&&clearTimeout(pa),xa||M)return void(pa=setTimeout(Nb,500));kb?clearTimeout(oc):kb=!0;var a=l+1,b=Y(l);b.hasOwnProperty("pid")&&(a=b.pid);a=y+"&gid="+h.galleryUID+"&pid="+a;Ca||-1===J.hash.indexOf(a)&&(Lb=!0);b=J.href.split("#")[0]+"#"+a;Mb?"#"+a!==window.location.hash&&history[Ca?"replaceState":"pushState"]("",document.title,b):Ca?J.replace(b):J.hash=a;Ca=!0;oc=setTimeout(function(){kb=!1},60)};Ja("History",{publicMethods:{initHistory:function(){if(f.extend(h,Fc,!0),h.history){J=window.location;Ca=Kb=Lb=!1;y=J.hash.substring(1);Mb="pushState"in history;-1<y.indexOf("gid=")&&(y=y.split("&gid=")[0],y=y.split("?gid=")[0]);r("afterChange",d.updateURL);r("unbindEvents",function(){f.unbind(window,"hashchange",d.onHashChange)});var a=function(){pc=!0;Kb||(Lb?history.back():y?J.hash=y:Mb?history.pushState("",document.title,J.pathname+J.search):J.hash="");Ta&&clearTimeout(Ta);pa&&clearTimeout(pa)};r("unbindEvents",function(){lb&&a()});r("destroy",function(){pc||a()});r("firstUpdate",function(){l=qc().pid});var b=y.indexOf("pid=");-1<b&&(y=y.substring(0,b),"&"===y.slice(-1)&&(y=y.slice(0,-1)));setTimeout(function(){qa&&f.bind(window,"hashchange",d.onHashChange)},40)}},onHashChange:function(){return J.hash.substring(1)===y?(Kb=!0,void d.close()):void(kb||(Jb=!0,d.goTo(qc().pid),Jb=!1))},updateURL:function(){Ta&&clearTimeout(Ta);pa&&clearTimeout(pa);Jb||(Ca?Ta=setTimeout(Nb,800):Nb())}}});f.extend(d,vc)}}();window.PhotoSwipe=Ob})();
/*!
 * modified for babel PhotoSwipe Default UI - 4.1.0 - 2015-07-11
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov;
 * removed module wrapper
 * exposed as window property
 * won't pass jshint
 * closure-compiler.appspot.com/code/jsc791a430ae9a0fab140f8a5be98233036/default.js
 */
;(function(){var E=function(){return function(b,e){var k,g,r,p,F,G,m,H,x,h,I,J,K,L,f,u,y,z,c=this,A=!1,n=!0,l=!0,E={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4E3,timeToIdleOutside:1E3,loadingIndicatorDelay:1E3,addCaptionHTMLFn:function(a,d){return a.title?(d.children[0].innerHTML=a.title,!0):(d.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return b.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return b.currItem.title||""},indexIndicatorSep:" / "},M=function(a){if(u)return!0;a=a||window.event;f.timeToIdle&&f.mouseUsed&&!x&&B();for(var d,b,c=(a.target||a.srcElement).className,g=0;g<v.length;g++)d=v[g],d.onTap&&-1<c.indexOf("pswp__"+d.name)&&(d.onTap(),b=!0);b&&(a.stopPropagation&&a.stopPropagation(),u=!0,setTimeout(function(){u=!1},e.features.isOldAndroid?600:30))},q=function(a,d,b){e[(b?"add":"remove")+"Class"](a,"pswp__"+d)},N=function(){var a=1===f.getNumItemsFn();a!==L&&(q(g,"ui--one-slide",a),L=a)},O=function(){q(m,"share-modal--hidden",l)},t=function(){return l=!l,l?(e.removeClass(m,"pswp__share-modal--fade-in"),setTimeout(function(){l&&O()},300)):(O(),setTimeout(function(){l||e.addClass(m,"pswp__share-modal--fade-in")},30)),l||Q(),!1},R=function(a){a=a||window.event;var d=a.target||a.srcElement;return b.shout("shareLinkClick",a,d),d.href?d.hasAttribute("download")?!0:(window.open(d.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),l||t(),!1):!1},Q=function(){for(var a,d,b,e,c="",g=0;g<f.shareButtons.length;g++)a=f.shareButtons[g],d=f.getImageURLForShare(a),b=f.getPageURLForShare(a),e=f.getTextForShare(a),d=a.url.replace("{{url}}",encodeURIComponent(b)).replace("{{image_url}}",encodeURIComponent(d)).replace("{{raw_image_url}}",d).replace("{{text}}",encodeURIComponent(e)),c+='<a href="'+d+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",f.parseShareButtonOut&&(c=f.parseShareButtonOut(a,c));m.children[0].innerHTML=c;m.children[0].onclick=R},C=function(a){for(var d=0;d<f.closeElClasses.length;d++)if(e.hasClass(a,"pswp__"+f.closeElClasses[d]))return!0},D=0,B=function(){clearTimeout(z);D=0;x&&c.setIdle(!1)},P=function(a){a=a?a:window.event;(a=a.relatedTarget||a.toElement)&&"HTML"!==a.nodeName||(clearTimeout(z),z=setTimeout(function(){c.setIdle(!0)},f.timeToIdleOutside))},S=function(){f.preloaderEl&&(w(!0),h("beforeChange",function(){clearTimeout(K);K=setTimeout(function(){b.currItem&&b.currItem.loading?(!b.allowProgressiveImg()||b.currItem.img&&!b.currItem.img.naturalWidth)&&w(!1):w(!0)},f.loadingIndicatorDelay)}),h("imageLoadComplete",function(a,d){b.currItem===d&&w(!0)}))},w=function(a){J!==a&&(q(I,"preloader--active",!a),J=a)},T=function(a){var d=a.vGap;if(!b.likelyTouchDevice||f.mouseUsed||1200<screen.width){var c=f.barsSize;f.captionEl&&"auto"===c.bottom?(p||(p=e.createEl("pswp__caption pswp__caption--fake"),p.appendChild(e.createEl("pswp__caption__center")),g.insertBefore(p,r),e.addClass(g,"pswp__ui--fit")),f.addCaptionHTMLFn(a,p,!0))?d.bottom=parseInt(p.clientHeight,10)||44:d.bottom=c.top:d.bottom="auto"===c.bottom?0:c.bottom;d.top=c.top}else d.top=d.bottom=0},U=function(){f.timeToIdle&&h("mouseUsed",function(){e.bind(document,"mousemove",B);e.bind(document,"mouseout",P);y=setInterval(function(){D++;2===D&&c.setIdle(!0)},f.timeToIdle/2)})},V=function(){h("onVerticalDrag",function(a){n&&.95>a?c.hideControls():!n&&.95<=a&&c.showControls()});var a;h("onPinchClose",function(d){n&&.9>d?(c.hideControls(),a=!0):a&&!n&&.9<d&&c.showControls()});h("zoomGestureEnded",function(){a=!1})},v=[{name:"caption",option:"captionEl",onInit:function(a){r=a}},{name:"share-modal",option:"shareEl",onInit:function(a){m=a},onTap:function(){t()}},{name:"button--share",option:"shareEl",onInit:function(a){G=a},onTap:function(){t()}},{name:"button--zoom",option:"zoomEl",onTap:b.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){F=a}},{name:"button--close",option:"closeEl",onTap:b.close},{name:"button--arrow--left",option:"arrowEl",onTap:b.prev},{name:"button--arrow--right",option:"arrowEl",onTap:b.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){k.isFullscreen()?k.exit():k.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){I=a}}],W=function(){var a,d,b,c=function(c){if(c)for(var g=c.length,h=0;g>h;h++){a=c[h];d=a.className;for(var k=0;k<v.length;k++)b=v[k],-1<d.indexOf("pswp__"+b.name)&&(f[b.option]?(e.removeClass(a,"pswp__element--disabled"),b.onInit&&b.onInit(a)):e.addClass(a,"pswp__element--disabled"))}};c(g.children);var h=e.getChildByClass(g,"pswp__top-bar");h&&c(h.children)};c.init=function(){e.extend(b.options,E,!0);f=b.options;g=e.getChildByClass(b.scrollWrap,"pswp__ui");h=b.listen;V();h("beforeChange",c.update);h("doubleTap",function(a){var d=b.currItem.initialZoomLevel;b.getZoomLevel()!==d?b.zoomTo(d,a,333):b.zoomTo(f.getDoubleTapZoom(!1,b.currItem),a,333)});h("preventDragEvent",function(a,b,c){(b=a.target||a.srcElement)&&b.className&&-1<a.type.indexOf("mouse")&&(0<b.className.indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(b.tagName))&&(c.prevent=!1)});h("bindEvents",function(){e.bind(g,"pswpTap click",M);e.bind(b.scrollWrap,"pswpTap",c.onGlobalTap);b.likelyTouchDevice||e.bind(b.scrollWrap,"mouseover",c.onMouseOver)});h("unbindEvents",function(){l||t();y&&clearInterval(y);e.unbind(document,"mouseout",P);e.unbind(document,"mousemove",B);e.unbind(g,"pswpTap click",M);e.unbind(b.scrollWrap,"pswpTap",c.onGlobalTap);e.unbind(b.scrollWrap,"mouseover",c.onMouseOver);k&&(e.unbind(document,k.eventK,c.updateFullscreen),k.isFullscreen()&&(f.hideAnimationDuration=0,k.exit()),k=null)});h("destroy",function(){f.captionEl&&(p&&g.removeChild(p),e.removeClass(r,"pswp__caption--empty"));m&&(m.children[0].onclick=null);e.removeClass(g,"pswp__ui--over-close");e.addClass(g,"pswp__ui--hidden");c.setIdle(!1)});f.showAnimationDuration||e.removeClass(g,"pswp__ui--hidden");h("initialZoomIn",function(){f.showAnimationDuration&&e.removeClass(g,"pswp__ui--hidden")});h("initialZoomOut",function(){e.addClass(g,"pswp__ui--hidden")});h("parseVerticalMargin",T);W();f.shareEl&&G&&m&&(l=!0);N();U();f.fullscreenEl&&(k||(k=c.getFullscreenAPI()),k?(e.bind(document,k.eventK,c.updateFullscreen),c.updateFullscreen(),e.addClass(b.template,"pswp--supports-fs")):e.removeClass(b.template,"pswp--supports-fs"));S()};c.setIdle=function(a){x=a;q(g,"ui--idle",a)};c.update=function(){n&&b.currItem?(c.updateIndexIndicator(),f.captionEl&&(f.addCaptionHTMLFn(b.currItem,r),q(r,"caption--empty",!b.currItem.title)),A=!0):A=!1;l||t();N()};c.updateFullscreen=function(a){a&&setTimeout(function(){b.setScrollOffset(0,e.getScrollY())},50);e[(k.isFullscreen()?"add":"remove")+"Class"](b.template,"pswp--fs")};c.updateIndexIndicator=function(){f.counterEl&&(F.innerHTML=b.getCurrentIndex()+1+f.indexIndicatorSep+f.getNumItemsFn())};c.onGlobalTap=function(a){a=a||window.event;var d=a.target||a.srcElement;if(!u)if(a.detail&&"mouse"===a.detail.pointerType){if(C(d))return void b.close();e.hasClass(d,"pswp__img")&&(1===b.getZoomLevel()&&b.getZoomLevel()<=b.currItem.fitRatio?f.clickToCloseNonZoomable&&b.close():b.toggleDesktopZoom(a.detail.releasePoint))}else if(f.tapToToggleControls&&(n?c.hideControls():c.showControls()),f.tapToClose&&(e.hasClass(d,"pswp__img")||C(d)))return void b.close()};c.onMouseOver=function(a){a=a||window.event;q(g,"ui--over-close",C(a.target||a.srcElement))};c.hideControls=function(){e.addClass(g,"pswp__ui--hidden");n=!1};c.showControls=function(){n=!0;A||c.update();e.removeClass(g,"pswp__ui--hidden")};c.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)};c.getFullscreenAPI=function(){var a,c=document.documentElement;return c.requestFullscreen?a={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:"fullscreenchange"}:c.mozRequestFullScreen?a={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"mozfullscreenchange"}:c.webkitRequestFullscreen?a={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkitfullscreenchange"}:c.msRequestFullscreen&&(a={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),a&&(a.enter=function(){return H=f.closeOnScroll,f.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?b.template[this.enterK]():void b.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},a.exit=function(){return f.closeOnScroll=H,document[this.exitK]()},a.isFullscreen=function(){return document[this.elementK]}),a}}}();window.PhotoSwipeUI_Default=E})();
