/*!
 * A super small javascript library to make html by chaining javascript functions
 * github.com/maael/html-chain
 * var test = html()
 * 	.add('div', {className: 'container', data: { info: 'extraInformation' }})
 * 		.contains('div', {className: 'header'})
 * 			.contains('h5', {className: 'headerTitle', text: 'This is a header'}).end()
 * 		.and('div', {className: 'content'})
 * 			.contains('p', {text: 'This is the content'}).end()
 * 		.end()
 * 	.build();
 * minified with http://closure-compiler.appspot.com/home
 */
var html=function(l){function m(b,c){c=c||{};var e={level:h,tag:b},a;for(a in c)c.hasOwnProperty(a)&&(e[a]=c[a]);return e}function k(b){var c=this.document.createElement(b.tag),e=["data","tag","level"];if(b.hasOwnProperty("data")){c.dataset={};for(var a in b.data)b.data.hasOwnProperty(a)&&(b["data-"+a]=b.data[a])}for(var d in b)b.hasOwnProperty(d)&&0>e.indexOf(d)&&("text"===d?c.innerHTML=b[d]:c.setAttribute(d,b[d]));return c}function f(b,c){g.push(m(b,c));return this}var g=[],h=0;this.document=l||document;return{add:f,and:f,contains:function(b,c){h+=1;f(b,c);return this},end:function(){--h;return this},build:function(){var b=0,c,e,a;c=k(g[0]);for(var d=1;d<g.length;d++)if(e=k(g[d]),a=g[d].level,a-1===b)c.appendChild(e);else if(b<a){b+=a-1-b;for(a=c;0<a.children.length;)a=a.lastChild;a.appendChild(e)}else if(b>=a){b-=b-(a-1);a="*";for(var f=0;f<=b;f++)a+=">*";a=c.querySelectorAll(a);a[a.length-1].parentNode.parentNode.appendChild(e)}g=[];h=0;return c.outerHTML}}};"undefined"!==typeof exports&&("undefined"!==typeof module&&module.exports&&(exports=module.exports=html),exports.html=html);
