/*
 * Sidr
 * https://github.com/artberri/sidr
 *
 * Copyright (c) 2013 Alberto Varela
 * Licensed under the MIT license.
 */(function(c){var h=!1,m=!1,e={isUrl:function(a){return RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(a)?!0:!1},loadContent:function(a,b){a.html(b)},addPrefix:function(a){var b=a.attr("id"),c=a.attr("class");"string"===typeof b&&""!==b&&a.attr("id",b.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1"));"string"===typeof c&&""!==c&&"sidr-inner"!==c&&a.attr("class",c.replace(/([A-Za-z0-9_.\-]+)/g, "sidr-class-$1"));a.removeAttr("style")},execute:function(a,b,f){"function"===typeof b?(f=b,b="sidr"):b||(b="sidr");var d=c("#"+b),e=c(d.data("body")),n=c("html"),g=d.outerWidth(!0),p=d.data("speed"),k=d.data("side");"open"===a||"toogle"===a&&!d.is(":visible")?d.is(":visible")||h||(!1!==m?l.close(m,function(){l.open(b)}):(h=!0,"left"===k?(a={left:g+"px"},g={left:"0px"}):(a={right:g+"px"},g={right:"0px"}),k=n.scrollTop(),n.css("overflow-x","hidden").scrollTop(k),e.css({width:e.width(),position:"absolute"}).animate(a, p),d.css("display","block").animate(g,p,function(){h=!1;m=b;"function"===typeof f&&f(b)}))):d.is(":visible")&&!h&&(h=!0,"left"===k?(a={left:0},g={left:"-"+g+"px"}):(a={right:0},g={right:"-"+g+"px"}),k=n.scrollTop(),n.removeAttr("style").scrollTop(k),e.animate(a,p),d.animate(g,p,function(){d.removeAttr("style");e.removeAttr("style");c("html").removeAttr("style");m=h=!1;"function"===typeof f&&f(b)}))}},l={open:function(a,b){e.execute("open",a,b)},close:function(a,b){e.execute("close",a,b)},toogle:function(a, b){e.execute("toogle",a,b)}};c.sidr=function(a){if(l[a])return l[a].apply(this,Array.prototype.slice.call(arguments,1));if("function"!==typeof a&&"string"!==typeof a&&a)c.error("Method "+a+" does not exist on jQuery.sidr");else return l.toogle.apply(this,arguments)};c.fn.sidr=function(a){a=c.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body"},a);var b=a.name,f=c("#"+b);0===f.length&&(f=c("<div />").attr("id",b).appendTo(c("body")));f.addClass("sidr").addClass(a.side).data({speed:a.speed, side:a.side,body:a.body});if("function"===typeof a.source)a=a.source(b),e.loadContent(f,a);else if("string"===typeof a.source&&e.isUrl(a.source))c.get(a.source,function(a){e.loadContent(f,a)});else if("string"===typeof a.source){var d="",h=a.source.split(",");c.each(h,function(a,b){d+='<div class="sidr-inner">'+c(b).html()+"</div>"});a.renaming&&(a=c("<div />").html(d),a.find("*").each(function(a,b){var d=c(b);e.addPrefix(d)}),d=a.html());e.loadContent(f,d)}else null!==a.source&&c.error("Invalid Sidr Source"); return this.each(function(){var a=c(this);a.data("sidr")||(a.data("sidr",b),a.click(function(a){a.preventDefault();l.toogle(b)}))})}})(jQuery);
 